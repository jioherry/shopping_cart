Started GET "/" for ::1 at 2017-04-05 21:56:13 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered common/_navbar.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 4597ms (Views: 4586.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-05 21:57:02 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 50ms (Views: 47.4ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-05 21:57:36 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 28.8ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-05 21:57:36 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered common/_navbar.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 44ms (Views: 41.9ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-05 21:58:10 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered common/_navbar.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 43ms (Views: 40.8ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-05 21:58:37 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered common/_navbar.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 37ms (Views: 34.5ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-05 22:00:48 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 39ms (Views: 36.5ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-05 22:06:32 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered common/_navbar.html.erb (2.2ms)
  Rendered common/_footer.html.erb (1.0ms)
Completed 200 OK in 51ms (Views: 47.3ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-05 22:06:34 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-05 22:06:35 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 55ms (Views: 52.6ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-05 22:06:39 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 56ms (Views: 52.0ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-07 10:38:15 +0800
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.2) lib/active_record/migration.rb:573:in `check_pending!'
activerecord (5.0.2) lib/active_record/migration.rb:549:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (66.5ms)
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20170405135114)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170405135114"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddNameToUsers (20170405135330)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "name" varchar[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "profile_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170405135330"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProfiles (20170405135804)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170405135804"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2017-04-07 02:38:38 UTC], ["updated_at", 2017-04-07 02:38:38 UTC]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for ::1 at 2017-04-07 10:41:36 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered common/_navbar.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 1783ms (Views: 1771.0ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnUserIdToProfile (20170407024353)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profile" ADD "user_id" integer[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnUserIdToProfile (20170407024353)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "profiles" ADD "user_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170407024353"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to RemoveColumnWithUserId (20170407024815)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar, "profile_id" integer)[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","created_at","updated_at","name","profile_id")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","created_at","updated_at","name","profile_id" FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "name" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_ausers_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_ausers_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_ausers_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_ausers_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","created_at","updated_at","name")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","created_at","updated_at","name" FROM "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170407024815"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateProducts (20170407031623)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "file_location" varchar, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170407031623"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/" for ::1 at 2017-04-07 11:39:32 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 244ms (Views: 235.5ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCarts (20170407034013)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170407034013"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnPriceToProduct (20170407034911)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "products" ADD "price" varchar[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170407034911"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Tavares Fritsch DVM"], ["description", "Corrupti quia et asperiores dolores quo."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "5430"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Damon Koepp"], ["description", "Placeat sequi qui neque temporibus incidunt non."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "8079"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Vidal Larson"], ["description", "Sequi sapiente nihil dicta fuga molestias omnis id."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "2147"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Abbie Monahan"], ["description", "Sed magni quam quidem voluptas."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "4812"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Carey Powlowski"], ["description", "At veritatis voluptates."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "4548"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dr. Lily Gleason"], ["description", "Facere totam est."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "345"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Demond Hirthe"], ["description", "Atque cumque qui maxime quia magnam."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "7769"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Isabell Quitzon"], ["description", "Consectetur repellendus autem sit libero voluptas est ratione."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "9264"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Chandler Rowe"], ["description", "Sit maiores voluptatibus et ut fugit."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "8503"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Jeff Hudson"], ["description", "Excepturi illum enim ab facilis."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "3988"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Yazmin Pfeffer"], ["description", "Inventore repellat reprehenderit impedit."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "7067"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Myrl Spencer"], ["description", "Officiis ut est sunt nobis."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "5594"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Tyrell Turner Jr."], ["description", "Earum iusto itaque et."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "2629"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Anika MacGyver"], ["description", "Omnis dolor est eum."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "9081"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Callie Pacocha"], ["description", "Doloribus dolorem facilis officiis accusamus voluptates."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "6475"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lavinia Rau"], ["description", "Dicta illum ipsam quis."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "6016"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Ms. Dandre Cartwright"], ["description", "Sunt cumque ipsa harum iste expedita optio."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "7004"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bernard Cummings"], ["description", "Aliquam et voluptatem."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "1590"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Luigi Wehner"], ["description", "Molestias mollitia magnam quos tempore magni voluptates accusamus."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "4804"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mrs. Judy Reynolds"], ["description", "Necessitatibus sequi omnis quis."], ["file_location", "https://robohash.org/my-own-slug.jpg?size=50x50&set=set1"], ["created_at", 2017-04-07 04:11:35 UTC], ["updated_at", 2017-04-07 04:11:35 UTC], ["price", "6500"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for ::1 at 2017-04-07 12:11:39 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCartItems (20170407061452)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "product_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170407061452"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for ::1 at 2017-04-07 14:46:44 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 29ms (Views: 27.7ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-07 14:46:46 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-04-07 14:52:50 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (6.6ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 41ms (Views: 30.8ms | ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2017-04-07 15:35:27 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.9ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 31.3ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 15:36:33 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (2.7ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 40ms (Views: 38.3ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 15:36:37 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.9ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 31ms (Views: 29.3ms | ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2017-04-07 15:36:40 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (4.1ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 38ms (Views: 35.0ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 15:36:40 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.5ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 33ms (Views: 30.9ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-07 15:37:02 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.3ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 41ms (Views: 38.7ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 15:37:27 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (2.7ms)
  Rendered common/_navbar.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 15:37:42 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.8ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 35ms (Views: 33.1ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 15:38:03 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.0ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 37ms (Views: 35.5ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 15:38:40 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (2.9ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 32.4ms | ActiveRecord: 0.2ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 9]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 13]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 16]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 17]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 18]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 20]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Ena Keeling"], ["description", "Ex earum molestiae."], ["file_location", "https://robohash.org/delenitinullamolestiae.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "3908"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kayla Botsford"], ["description", "Repudiandae nihil commodi odio temporibus et ut autem."], ["file_location", "https://robohash.org/sedipsamoptio.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "3201"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Maye Bahringer"], ["description", "Consequatur dolores nam."], ["file_location", "https://robohash.org/estatquesunt.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "7052"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Jairo Bergnaum II"], ["description", "Et exercitationem omnis qui est et magnam enim."], ["file_location", "https://robohash.org/earumveritatisut.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "4624"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Ms. Royal Schuppe"], ["description", "Cumque odio aut quia nulla."], ["file_location", "https://robohash.org/etinvel.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "4806"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Miss Alexandro Schimmel"], ["description", "Ut aut distinctio quia."], ["file_location", "https://robohash.org/sintsintconsectetur.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "1502"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Xzavier Schiller"], ["description", "Unde accusamus corrupti dolorem."], ["file_location", "https://robohash.org/corruptiiureaut.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "5009"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dolores Grady II"], ["description", "Itaque excepturi omnis enim harum."], ["file_location", "https://robohash.org/voluptatequiaeius.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "6963"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Marvin Kemmer"], ["description", "Aspernatur qui debitis."], ["file_location", "https://robohash.org/auteumqui.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "959"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Leslie Kunze"], ["description", "Esse temporibus dignissimos quam."], ["file_location", "https://robohash.org/estfacerevoluptate.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "8837"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nelda Crona"], ["description", "Perferendis corporis et."], ["file_location", "https://robohash.org/inetpossimus.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "7272"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Adela Pacocha IV"], ["description", "Qui fuga occaecati repudiandae minus quisquam dolor neque."], ["file_location", "https://robohash.org/quiaquammolestiae.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "9981"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Ardith Fahey"], ["description", "Est enim mollitia nam vel illo sunt beatae."], ["file_location", "https://robohash.org/ametconsequunturin.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "1988"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Aimee Halvorson"], ["description", "Nobis laboriosam et asperiores ea ullam repellendus."], ["file_location", "https://robohash.org/eacupiditatelaborum.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "8019"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mrs. Kayli Kessler"], ["description", "Quia enim est."], ["file_location", "https://robohash.org/voluptateofficiarerum.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "501"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Iva Lueilwitz"], ["description", "Est maiores doloremque eius sed dolores."], ["file_location", "https://robohash.org/dolorenimnon.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "4863"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kiana Marvin"], ["description", "Fuga omnis iure doloribus eaque voluptatem magnam."], ["file_location", "https://robohash.org/nequenostrumporro.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "8244"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Aniyah Terry"], ["description", "Culpa a necessitatibus."], ["file_location", "https://robohash.org/hicsapienteillum.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "2805"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Roberto Feeney"], ["description", "Perspiciatis molestiae ipsam."], ["file_location", "https://robohash.org/explicabonondignissimos.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "8073"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dudley Kunze"], ["description", "Molestiae est perferendis reiciendis aliquam repellendus error unde."], ["file_location", "https://robohash.org/veritatisseddolor.png?size=300x300&set=set1"], ["created_at", 2017-04-07 07:49:01 UTC], ["updated_at", 2017-04-07 07:49:01 UTC], ["price", "5149"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for ::1 at 2017-04-07 15:49:29 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (10.9ms)
  Rendered common/_navbar.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 267ms (Views: 249.6ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-04-07 15:50:11 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/welcome/index.html.erb:8: syntax error, unexpected ':', expecting ')'
e_tag(product.file_location) :withd => 50px );@output_buffer
                              ^):
  
app/views/welcome/index.html.erb:8: syntax error, unexpected ':', expecting ')'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (64.9ms)
Started GET "/" for ::1 at 2017-04-07 15:50:56 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/welcome/index.html.erb:8: syntax error, unexpected ':', expecting ')'
e_tag(product.file_location) :withd => 50 );@output_buffer.s
                              ^):
  
app/views/welcome/index.html.erb:8: syntax error, unexpected ':', expecting ')'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.2ms)
Started GET "/" for ::1 at 2017-04-07 15:51:22 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/welcome/index.html.erb:8: syntax error, unexpected ':', expecting ')'
e_tag(product.file_location) :width => 50px );@output_buffer
                              ^):
  
app/views/welcome/index.html.erb:8: syntax error, unexpected ':', expecting ')'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.4ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (60.5ms)
Started GET "/" for ::1 at 2017-04-07 16:02:01 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.6ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 32ms (Views: 30.1ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 16:02:33 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/welcome/index.html.erb:8: syntax error, unexpected ',', expecting ')'
ge_tag(product.file_location), width: 50px );@output_buffer.
                              ^):
  
app/views/welcome/index.html.erb:8: syntax error, unexpected ',', expecting ')'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (54.2ms)
Started GET "/" for ::1 at 2017-04-07 16:02:54 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/welcome/index.html.erb:8: syntax error, unexpected ',', expecting ')'
ge_tag(product.file_location), :width => 50px );@output_buff
                              ^):
  
app/views/welcome/index.html.erb:8: syntax error, unexpected ',', expecting ')'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.6ms)
Started GET "/" for ::1 at 2017-04-07 16:08:09 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/welcome/index.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
location, :padding => 50*50 px) );@output_buffer.safe_append
                              ^
/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/welcome/index.html.erb:17: syntax error, unexpected keyword_ensure, expecting end-of-input
          ensure
                ^):
  
app/views/welcome/index.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
app/views/welcome/index.html.erb:17: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (54.3ms)
Started GET "/" for ::1 at 2017-04-07 16:08:35 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/welcome/index.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
ile_location, :width => 100 px) );@output_buffer.safe_append
                              ^
/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/welcome/index.html.erb:17: syntax error, unexpected keyword_ensure, expecting end-of-input
          ensure
                ^):
  
app/views/welcome/index.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
app/views/welcome/index.html.erb:17: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (54.0ms)
Started GET "/" for ::1 at 2017-04-07 16:08:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/welcome/index.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
file_location, :width => 100px) );@output_buffer.safe_append
                              ^
/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/welcome/index.html.erb:17: syntax error, unexpected keyword_ensure, expecting end-of-input
          ensure
                ^):
  
app/views/welcome/index.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
app/views/welcome/index.html.erb:17: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (11.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (62.6ms)
Started GET "/" for ::1 at 2017-04-07 16:36:18 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 33ms (Views: 30.7ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 16:36:46 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.6ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 16:37:12 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (4.7ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (5.0ms)
Completed 200 OK in 39ms (Views: 37.6ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 16:37:29 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.2ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 30ms (Views: 28.7ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 16:37:48 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.4ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 16:39:33 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.7ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 33ms (Views: 31.4ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 16:40:19 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.7ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 41ms (Views: 39.4ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 16:40:45 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (undefined method `price' for nil:NilClass):
     7: 				<div class="col-xs-6 col-md-3">
     8: 					<P><%= image_tag(product.file_location, :width => 50) %></P>
     9: 					<p><%= link_to product.name %></p>
    10: 					<p><%= $product.price %></p>
    11: 				</div>
    12: 				<% end %>
    13: 		</div>
  
app/views/welcome/index.html.erb:10:in `block in _app_views_welcome_index_html_erb___2470102088755978614_70161909358260'
app/views/welcome/index.html.erb:6:in `_app_views_welcome_index_html_erb___2470102088755978614_70161909358260'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (54.9ms)
Started GET "/" for ::1 at 2017-04-07 16:41:09 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (3.6ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 32ms (Views: 30.6ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-07 16:53:05 +0800
  
ActionController::RoutingError (uninitialized constant ProductsController):
  
activesupport (5.0.2) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.2) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.2) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.2) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.2) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.2) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.2) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.2) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.2) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [48 times] (15.5ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (7.3ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (94.5ms)
Started GET "/" for ::1 at 2017-04-07 16:53:17 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered welcome/index.html.erb within layouts/application (8.9ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 41ms (Views: 33.4ms | ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2017-04-07 16:58:51 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (11.0ms)
  Rendered common/_navbar.html.erb (6.2ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 1503ms (Views: 1495.1ms | ActiveRecord: 1.0ms)


Started GET "/" for ::1 at 2017-04-07 16:58:55 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.2ms)
  Rendered common/_navbar.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 34ms (Views: 32.3ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-07 17:36:05 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.3ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 1537ms (Views: 1530.7ms | ActiveRecord: 0.8ms)


Started GET "/notbooks" for ::1 at 2017-04-07 23:56:03 +0800
  
ActionController::RoutingError (No route matches [GET] "/notbooks"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [40 times] (9.2ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (82.4ms)
Started GET "/" for ::1 at 2017-04-08 10:35:11 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (19.1ms)
  Rendered common/_navbar.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 391ms (Views: 373.2ms | ActiveRecord: 0.9ms)


Started GET "/" for ::1 at 2017-04-08 10:35:15 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.0ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 34ms (Views: 31.9ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-08 10:35:17 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.8ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 50ms (Views: 47.4ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-08 10:35:19 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.5ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.8ms)
Completed 200 OK in 52ms (Views: 49.4ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-08 10:36:26 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.9ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :cart_id=>#<Product id: 21, name: "Ena Keeling", description: "Ex earum molestiae.", file_location: "https://robohash.org/delenitinullamolestiae.png?si...", cart_id: nil, created_at: "2017-04-07 07:49:01", updated_at: "2017-04-07 07:49:01", price: "3908">, :controller=>"products"} missing required keys: [:id]):
     5: 		<% @product.each do |product| %>
     6: 			<div class="col-xs-6 col-md-3">
     7: 				<P><%= image_tag(product.file_location, :width => 50) %></P>
     8: 				<p><%= link_to product.name, cart_product_path(product) %></p>
     9: 				<p>$<%= product.price %></p>
    10: 			</div>
    11: 			<% end %>
  
app/views/products/index.html.erb:8:in `block in _app_views_products_index_html_erb___3770721911818885564_70195519947700'
app/views/products/index.html.erb:5:in `_app_views_products_index_html_erb___3770721911818885564_70195519947700'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (13.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (72.6ms)
Started PUT "/__web_console/repl_sessions/00a97346194faf73dfca6edffbb233be" for ::1 at 2017-04-08 10:37:03 +0800
Started PUT "/__web_console/repl_sessions/00a97346194faf73dfca6edffbb233be" for ::1 at 2017-04-08 10:37:04 +0800
Started GET "/" for ::1 at 2017-04-08 10:37:42 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (2.8ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"products", :id=>21} missing required keys: [:cart_id]):
     5: 		<% @product.each do |product| %>
     6: 			<div class="col-xs-6 col-md-3">
     7: 				<P><%= image_tag(product.file_location, :width => 50) %></P>
     8: 				<p><%= link_to product.name, cart_product_path(:id => product.id) %></p>
     9: 				<p>$<%= product.price %></p>
    10: 			</div>
    11: 			<% end %>
  
app/views/products/index.html.erb:8:in `block in _app_views_products_index_html_erb___3770721911818885564_70195468062420'
app/views/products/index.html.erb:5:in `_app_views_products_index_html_erb___3770721911818885564_70195468062420'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.6ms)
Started PUT "/__web_console/repl_sessions/5c0091331787c2185178aa4fa92cc8fd" for ::1 at 2017-04-08 10:37:48 +0800
Started PUT "/__web_console/repl_sessions/5c0091331787c2185178aa4fa92cc8fd" for ::1 at 2017-04-08 10:37:50 +0800
Started GET "/" for ::1 at 2017-04-08 11:03:30 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.9ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 50ms (Views: 42.2ms | ActiveRecord: 0.8ms)


Started GET "/products/21" for ::1 at 2017-04-08 11:03:32 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
Completed 500 Internal Server Error in 129ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `product' for #<ProductsController:0x007faf4fe657c0>
Did you mean?  product_url):
  
app/controllers/products_controller.rb:8:in `show'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (142.6ms)
Started GET "/products/21" for ::1 at 2017-04-08 11:05:30 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
Completed 500 Internal Server Error in 141ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `product' for #<ProductsController:0x007faf4fcd2728>
Did you mean?  product_url):
  
app/controllers/products_controller.rb:8:in `show'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (121.5ms)
Started GET "/welcome" for ::1 at 2017-04-08 11:05:32 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [26 times] (10.4ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (7.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (90.1ms)
Started GET "/" for ::1 at 2017-04-08 11:05:33 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.9ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 45ms (Views: 36.7ms | ActiveRecord: 1.0ms)


Started GET "/products/21" for ::1 at 2017-04-08 11:05:38 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
Completed 500 Internal Server Error in 130ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `product' for #<ProductsController:0x007faf4ea182b8>
Did you mean?  product_url):
  
app/controllers/products_controller.rb:8:in `show'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (100.7ms)
Started GET "/products/21" for ::1 at 2017-04-08 11:06:21 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `find' for nil:NilClass):
  
app/controllers/products_controller.rb:8:in `show'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (64.5ms)
Started PUT "/__web_console/repl_sessions/6839156d1eb047096dc8b2444ee8572a" for ::1 at 2017-04-08 11:06:27 +0800
Started PUT "/__web_console/repl_sessions/6839156d1eb047096dc8b2444ee8572a" for ::1 at 2017-04-08 11:06:28 +0800
Started GET "/" for ::1 at 2017-04-08 11:06:54 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (8.9ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 43ms (Views: 34.7ms | ActiveRecord: 0.8ms)


Started GET "/products/22" for ::1 at 2017-04-08 11:06:56 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"22"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `find' for nil:NilClass):
  
app/controllers/products_controller.rb:8:in `show'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.3ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (61.3ms)
Started GET "/" for ::1 at 2017-04-08 11:06:59 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.8ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 64ms (Views: 61.9ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-08 11:07:27 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.1ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 29ms (Views: 27.4ms | ActiveRecord: 0.2ms)


Started GET "/products/21" for ::1 at 2017-04-08 11:07:28 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `find' for nil:NilClass):
  
app/controllers/products_controller.rb:8:in `show'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.5ms)
Started PUT "/__web_console/repl_sessions/57ac919dda91c234ca97545dda683bae" for ::1 at 2017-04-08 11:08:05 +0800
Started PUT "/__web_console/repl_sessions/57ac919dda91c234ca97545dda683bae" for ::1 at 2017-04-08 11:08:05 +0800
Started PUT "/__web_console/repl_sessions/57ac919dda91c234ca97545dda683bae" for ::1 at 2017-04-08 11:08:22 +0800
Started PUT "/__web_console/repl_sessions/57ac919dda91c234ca97545dda683bae" for ::1 at 2017-04-08 11:08:26 +0800
Started GET "/products/21" for ::1 at 2017-04-08 11:10:08 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
Completed 500 Internal Server Error in 176ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `product' for #<ProductsController:0x007faf4fc5a340>
Did you mean?  product_url):
  
app/controllers/products_controller.rb:8:in `show'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (113.1ms)
Started GET "/products/21" for ::1 at 2017-04-08 11:10:43 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (6.8ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (undefined method `image_url' for #<Product:0x007faf50513860>):
    1: <h1><%= @product.name %></h1>
    2: 
    3: <%= image_tag(@product.image_url) %>
    4: 
    5: 上架時間: <%= @product.created_at %>
    6: 
  
app/views/products/show.html.erb:3:in `_app_views_products_show_html_erb___1327730667022413734_70195471736600'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.6ms)
Started GET "/products/21" for ::1 at 2017-04-08 11:12:22 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.1ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 34ms (Views: 31.8ms | ActiveRecord: 0.1ms)


Started GET "/products/21" for ::1 at 2017-04-08 11:14:34 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.0ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 29ms (Views: 26.4ms | ActiveRecord: 0.1ms)


Started GET "/products/21" for ::1 at 2017-04-08 11:14:53 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.1ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 30ms (Views: 28.0ms | ActiveRecord: 0.1ms)


Started GET "/" for ::1 at 2017-04-08 11:17:35 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.5ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 43ms (Views: 41.1ms | ActiveRecord: 0.3ms)


Started GET "/products/22" for ::1 at 2017-04-08 11:17:37 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.2ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 32ms (Views: 29.1ms | ActiveRecord: 0.1ms)


Started GET "/products/23" for ::1 at 2017-04-08 11:17:40 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.2ms)
  Rendered common/_navbar.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 52ms (Views: 49.1ms | ActiveRecord: 0.1ms)


Started GET "/products/24" for ::1 at 2017-04-08 11:17:42 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"24"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.4ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 54ms (Views: 50.7ms | ActiveRecord: 0.1ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnQuantityToCartItems (20170408033015)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "cart_items" ADD "quantity" integer[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408033015"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for ::1 at 2017-04-08 11:37:19 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (8.3ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 47ms (Views: 38.6ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-04-08 11:37:21 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.3ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 29ms (Views: 27.4ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-08 11:37:33 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.6ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 30ms (Views: 28.3ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-08 14:42:00 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.9ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 50ms (Views: 41.8ms | ActiveRecord: 1.5ms)


Started GET "/" for ::1 at 2017-04-08 14:49:44 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  Rendered products/index.html.erb within layouts/application (13.9ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (undefined method `has_mant' for #<Class:0x007faf4ed59148>
Did you mean?  has_many):
    1: <h1>公仔達人</h1>
    2: 
    3: <p>購物車有<span id="cart-total"><%= current_cart.total_quantity %></span>個商品</p>
    4: 
    5: 
    6: 
  
app/models/cart.rb:3:in `<class:Cart>'
app/models/cart.rb:1:in `<top (required)>'
app/controllers/application_controller.rb:27:in `set_cart'
app/controllers/application_controller.rb:18:in `current_cart'
app/views/products/index.html.erb:3:in `_app_views_products_index_html_erb___3770721911818885564_70195514598000'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.6ms)
Started GET "/" for ::1 at 2017-04-08 14:50:22 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-08 06:50:22 UTC], ["updated_at", 2017-04-08 06:50:22 UTC]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  Rendered products/index.html.erb within layouts/application (21.5ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 2.5ms)


  
ActionView::Template::Error (undefined method `total_quantity' for #<Cart:0x007faf56090648>):
    1: <h1>公仔達人</h1>
    2: 
    3: <p>購物車有<span id="cart-total"><%= current_cart.total_quantity %></span>個商品</p>
    4: 
    5: 
    6: 
  
app/views/products/index.html.erb:3:in `_app_views_products_index_html_erb___3770721911818885564_70195468010620'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.6ms)
Started GET "/" for ::1 at 2017-04-08 14:50:47 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-08 06:50:47 UTC], ["updated_at", 2017-04-08 06:50:47 UTC]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  Rendered products/index.html.erb within layouts/application (9.9ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (undefined method `quantity' for #<Cart:0x007faf568e33b8>):
    1: <h1>公仔達人</h1>
    2: 
    3: <p>購物車有<span id="cart-total"><%= current_cart.quantity %></span>個商品</p>
    4: 
    5: 
    6: 
  
app/views/products/index.html.erb:3:in `_app_views_products_index_html_erb___3770721911818885564_70195468331540'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.3ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.8ms)
Started GET "/" for ::1 at 2017-04-08 14:51:51 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-08 06:51:51 UTC], ["updated_at", 2017-04-08 06:51:51 UTC]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  Rendered products/index.html.erb within layouts/application (18.0ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 2.2ms)


  
ActionView::Template::Error (undefined method `quantity' for #<Cart:0x007faf55149478>):
    1: <h1>公仔達人</h1>
    2: 
    3: <p>購物車有<span id="cart-total"><%= current_cart.quantity %></span>個商品</p>
    4: 
    5: 
    6: 
  
app/views/products/index.html.erb:3:in `_app_views_products_index_html_erb___3770721911818885564_70195471490380'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (54.8ms)
Started GET "/" for ::1 at 2017-04-08 15:46:00 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-08 07:46:00 UTC], ["updated_at", 2017-04-08 07:46:00 UTC]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  Rendered products/index.html.erb within layouts/application (15.2ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (undefined method `quantity' for #<Cart:0x007faf55302300>):
    1: <h1>公仔達人</h1>
    2: 
    3: <p>購物車有<span id="cart-total"><%= current_cart.quantity %></span>個商品</p>
    4: 
    5: 
    6: 
  
app/views/products/index.html.erb:3:in `_app_views_products_index_html_erb___3770721911818885564_70195468430180'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (62.5ms)
Started GET "/" for ::1 at 2017-04-08 15:57:11 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  Rendered products/index.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views/products/index.html.erb:37: syntax error, unexpected keyword_ensure, expecting keyword_end
          ensure
                ^):
  
app/views/products/index.html.erb:37: syntax error, unexpected keyword_ensure, expecting keyword_end
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.0ms)
Started GET "/" for ::1 at 2017-04-08 15:57:35 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-08 07:57:35 UTC], ["updated_at", 2017-04-08 07:57:35 UTC]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (34.0ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 59ms (Views: 54.3ms | ActiveRecord: 3.1ms)


Started GET "/" for ::1 at 2017-04-08 16:01:19 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.5ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 39ms (Views: 36.6ms | ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2017-04-08 16:01:42 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.4ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 34ms (Views: 32.0ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-08 16:02:13 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.5ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 31ms (Views: 29.0ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-08 16:02:44 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.0ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 33ms (Views: 30.5ms | ActiveRecord: 0.4ms)


Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 16:02:45 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [19 times] (4.5ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (73.4ms)
Started GET "/" for ::1 at 2017-04-08 16:02:47 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.9ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 44ms (Views: 41.6ms | ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2017-04-08 16:03:16 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.2ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 34ms (Views: 31.8ms | ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2017-04-08 16:03:27 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.0ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 33ms (Views: 31.2ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-08 16:03:37 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.4ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 34ms (Views: 31.8ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-08 16:03:47 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.2ms)
  Rendered common/_navbar.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 32.4ms | ActiveRecord: 0.3ms)


Started GET "/products/21" for ::1 at 2017-04-08 16:04:25 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
Completed 500 Internal Server Error in 140ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `product' for #<ProductsController:0x007faf55265528>
Did you mean?  product_url):
  
app/controllers/products_controller.rb:8:in `show'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (120.8ms)
Started GET "/products/21" for ::1 at 2017-04-08 16:05:01 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
Completed 500 Internal Server Error in 200ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `product' for #<ProductsController:0x007faf5203b1b0>
Did you mean?  product_url):
  
app/controllers/products_controller.rb:8:in `show'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (120.9ms)
Started GET "/products/21" for ::1 at 2017-04-08 16:05:36 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.0ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 47ms (Views: 34.4ms | ActiveRecord: 1.0ms)


Started GET "/" for ::1 at 2017-04-08 16:05:40 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (19.7ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 52ms (Views: 48.9ms | ActiveRecord: 1.1ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateOrders (20170408084615)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408084615"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateOrderItems (20170408090039)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "price" varchar, "quantity" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408090039"]]
  [1m[35m (7.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "orders" ADD "amount" integer NOT NULL[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "orders" ADD "amount" integer NOT NULL[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "orders" ADD "amount" integer NOT NULL[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "orders" ADD "amount" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "orders" ADD "payment_method" integer[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408094522"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for ::1 at 2017-04-08 19:40:25 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (22.7ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 1506ms (Views: 1497.3ms | ActiveRecord: 1.3ms)


Started GET "/" for ::1 at 2017-04-08 19:45:55 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (18.2ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 53ms (Views: 43.0ms | ActiveRecord: 1.4ms)


Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 19:45:59 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [51 times] (9.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (81.2ms)
Started GET "/" for ::1 at 2017-04-08 19:46:00 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.1ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 35ms (Views: 32.6ms | ActiveRecord: 0.4ms)


Started GET "/orders/new" for ::1 at 2017-04-08 19:46:02 +0800
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `orders' for nil:NilClass):
  
app/controllers/orders_controller.rb:4:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.5ms)
Started GET "/" for ::1 at 2017-04-08 19:46:13 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.4ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 35ms (Views: 33.2ms | ActiveRecord: 0.4ms)


Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 19:46:21 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [51 times] (10.0ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (82.9ms)
Started GET "/" for ::1 at 2017-04-08 19:46:24 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.8ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 38ms (Views: 35.9ms | ActiveRecord: 0.4ms)


Started GET "/orders/new" for ::1 at 2017-04-08 19:47:48 +0800
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `orders' for nil:NilClass):
  
app/controllers/orders_controller.rb:4:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (50.1ms)
Started GET "/" for ::1 at 2017-04-08 19:47:53 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.1ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 36ms (Views: 34.0ms | ActiveRecord: 0.6ms)


Started GET "/orders/new" for ::1 at 2017-04-08 19:47:56 +0800
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `orders' for nil:NilClass):
  
app/controllers/orders_controller.rb:4:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (52.2ms)
Started PUT "/__web_console/repl_sessions/2cef4bcfa8710f1f1f8985606982a573" for ::1 at 2017-04-08 19:47:59 +0800
Started PUT "/__web_console/repl_sessions/2cef4bcfa8710f1f1f8985606982a573" for ::1 at 2017-04-08 19:48:00 +0800
Started GET "/orders/new" for ::1 at 2017-04-08 19:48:47 +0800
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `orders' for nil:NilClass):
  
app/controllers/orders_controller.rb:4:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.5ms)
Started PUT "/__web_console/repl_sessions/cb87a67b92e2edeaf670df0a1d19349d" for ::1 at 2017-04-08 19:49:09 +0800
Started PUT "/__web_console/repl_sessions/cb87a67b92e2edeaf670df0a1d19349d" for ::1 at 2017-04-08 19:49:12 +0800
Started PUT "/__web_console/repl_sessions/cb87a67b92e2edeaf670df0a1d19349d" for ::1 at 2017-04-08 19:49:16 +0800
Started PUT "/__web_console/repl_sessions/cb87a67b92e2edeaf670df0a1d19349d" for ::1 at 2017-04-08 19:49:23 +0800
Started PUT "/__web_console/repl_sessions/cb87a67b92e2edeaf670df0a1d19349d" for ::1 at 2017-04-08 19:49:34 +0800
Started GET "/orders/new" for ::1 at 2017-04-08 19:49:57 +0800
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `orders' for nil:NilClass):
  
app/controllers/orders_controller.rb:4:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (50.5ms)
Started GET "/orders/new" for ::1 at 2017-04-08 19:50:12 +0800
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `order' for nil:NilClass):
  
app/controllers/orders_controller.rb:4:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (54.0ms)
Started PUT "/__web_console/repl_sessions/4f8995b7676cb3c096ac078cc60a837e" for ::1 at 2017-04-08 19:50:41 +0800
Started PUT "/__web_console/repl_sessions/4f8995b7676cb3c096ac078cc60a837e" for ::1 at 2017-04-08 19:50:42 +0800
Started PUT "/__web_console/repl_sessions/4f8995b7676cb3c096ac078cc60a837e" for ::1 at 2017-04-08 19:51:01 +0800
Started PUT "/__web_console/repl_sessions/4f8995b7676cb3c096ac078cc60a837e" for ::1 at 2017-04-08 19:51:02 +0800
Started GET "/" for ::1 at 2017-04-08 19:52:02 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (21.9ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 58ms (Views: 48.6ms | ActiveRecord: 1.4ms)


Started GET "/" for ::1 at 2017-04-08 19:52:06 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.9ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-08 19:54:44 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.5ms)
  Rendered common/_navbar.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 36ms (Views: 34.4ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-08 19:56:08 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.4ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 38ms (Views: 35.5ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-08 20:03:55 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.6ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 49ms (Views: 47.5ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-08 20:04:38 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.7ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 36ms (Views: 34.1ms | ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2017-04-08 20:06:00 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.7ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 36ms (Views: 33.7ms | ActiveRecord: 0.4ms)


Started GET "/orders/new" for ::1 at 2017-04-08 20:06:25 +0800
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `order' for nil:NilClass):
  
app/controllers/orders_controller.rb:6:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (54.4ms)
Started GET "/" for ::1 at 2017-04-08 20:06:31 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.4ms)
  Rendered common/_navbar.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 39ms (Views: 36.6ms | ActiveRecord: 0.4ms)


Started GET "/orders/new" for ::1 at 2017-04-08 20:06:47 +0800
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `order' for nil:NilClass):
  
app/controllers/orders_controller.rb:6:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (63.6ms)
Started PUT "/__web_console/repl_sessions/fcebf1a2303b2229691c84a733335b51" for ::1 at 2017-04-08 20:06:50 +0800
Started PUT "/__web_console/repl_sessions/fcebf1a2303b2229691c84a733335b51" for ::1 at 2017-04-08 20:06:51 +0800
Started GET "/" for ::1 at 2017-04-08 20:07:17 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.7ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 38ms (Views: 35.2ms | ActiveRecord: 0.8ms)


Started GET "/users/sign_up" for ::1 at 2017-04-08 20:07:23 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (455.4ms)
  Rendered common/_navbar.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 497ms (Views: 486.8ms | ActiveRecord: 0.4ms)


Started POST "/users" for ::1 at 2017-04-08 20:07:45 +0800
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fO06I5GbbAMbAtFMu7oopiG9ESQuhlwgl+CnWQ+/pU7BPkMmwe6SIV388pIi6CHyEndqCxvAfkdL9VR8GJC6Pw==", "user"=>{"email"=>"jioherry@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jioherry@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "jioherry@gmail.com"], ["encrypted_password", "$2a$11$BRZrRQw20P98TL75AeITdugCzG2./LAMmxJt4/lBms5Fiu.DiwEEi"], ["created_at", 2017-04-08 12:07:46 UTC], ["updated_at", 2017-04-08 12:07:46 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-04-08 12:07:46 UTC], ["last_sign_in_at", 2017-04-08 12:07:46 UTC], ["current_sign_in_ip", "::1"], ["last_sign_in_ip", "::1"], ["updated_at", 2017-04-08 12:07:46 UTC], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 175ms (ActiveRecord: 1.7ms)


Started GET "/" for ::1 at 2017-04-08 20:07:46 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 38ms (Views: 35.5ms | ActiveRecord: 0.4ms)


Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:07:50 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [51 times] (13.1ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (86.5ms)
Started GET "/" for ::1 at 2017-04-08 20:07:54 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 43ms (Views: 40.6ms | ActiveRecord: 0.5ms)


Started GET "/products/21" for ::1 at 2017-04-08 20:08:14 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 58ms (Views: 40.1ms | ActiveRecord: 1.5ms)


Started GET "/orders/new" for ::1 at 2017-04-08 20:10:32 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.8ms)


  
NoMethodError (undefined method `order' for #<User:0x007faf560e8410>
Did you mean?  orders
               orders=):
  
app/controllers/orders_controller.rb:6:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.1ms)
Started GET "/" for ::1 at 2017-04-08 20:10:36 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (11.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (35.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 80ms (Views: 57.7ms | ActiveRecord: 12.7ms)


Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:10:39 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [51 times] (10.0ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (79.1ms)
Started GET "/" for ::1 at 2017-04-08 20:10:40 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 40ms (Views: 37.6ms | ActiveRecord: 0.5ms)


Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:12:28 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [51 times] (10.4ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (79.3ms)
Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:14:26 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [51 times] (10.2ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (77.9ms)
Started GET "/" for ::1 at 2017-04-08 20:14:32 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 41ms (Views: 38.3ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-04-08 20:14:33 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 40ms (Views: 37.4ms | ActiveRecord: 0.5ms)


Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:14:36 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (16.4ms)
Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:14:38 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (16.8ms)
Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:14:39 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (16.6ms)
Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:14:40 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (18.9ms)
Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:14:40 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (20.2ms)
Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:14:40 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (20.0ms)
Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:14:41 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (19.4ms)
Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:14:41 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (16.6ms)
Started GET "/orders/new" for ::1 at 2017-04-08 20:14:43 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `order' for #<User:0x007faf4fdd96f8>
Did you mean?  orders
               orders=):
  
app/controllers/orders_controller.rb:6:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (60.4ms)
Started GET "/" for ::1 at 2017-04-08 20:14:44 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (1.1ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 38ms (Views: 35.9ms | ActiveRecord: 0.5ms)


Started GET "/products/22/add_to_cart" for ::1 at 2017-04-08 20:14:46 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/22/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (16.3ms)
Started GET "/products/22/add_to_cart" for ::1 at 2017-04-08 20:14:47 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/22/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (20.0ms)
Started GET "/" for ::1 at 2017-04-08 20:15:55 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (23.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 67ms (Views: 57.2ms | ActiveRecord: 2.1ms)


Started GET "/products/21/add_to_cart" for ::1 at 2017-04-08 20:15:57 +0800
  
ActionController::RoutingError (No route matches [GET] "/products/21/add_to_cart"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.text.erb (17.9ms)
Started GET "/" for ::1 at 2017-04-08 20:18:18 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (23.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 71ms (Views: 61.1ms | ActiveRecord: 2.1ms)


Started POST "/products/21/add_to_cart" for ::1 at 2017-04-08 20:18:20 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 5], ["product_id", 21], ["created_at", 2017-04-08 12:18:20 UTC], ["updated_at", 2017-04-08 12:18:20 UTC], ["quantity", 1]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 25ms (ActiveRecord: 1.2ms)


  
NoMethodError (undefined method `find_item_by' for #<Cart:0x007faf568bca10>):
  
app/controllers/products_controller.rb:15:in `add_to_cart'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb (0.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (62.7ms)
Started POST "/products/21/add_to_cart" for ::1 at 2017-04-08 20:18:21 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 2], ["updated_at", 2017-04-08 12:18:21 UTC], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.2ms)


  
NoMethodError (undefined method `find_item_by' for #<Cart:0x007faf56100790>):
  
app/controllers/products_controller.rb:15:in `add_to_cart'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb (0.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (51.0ms)
Started POST "/products/21/add_to_cart" for ::1 at 2017-04-08 20:18:22 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 3], ["updated_at", 2017-04-08 12:18:22 UTC], ["id", 1]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.8ms)


  
NoMethodError (undefined method `find_item_by' for #<Cart:0x007faf58730500>):
  
app/controllers/products_controller.rb:15:in `add_to_cart'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb (0.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (52.0ms)
Started POST "/products/21/add_to_cart" for ::1 at 2017-04-08 20:18:23 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 4], ["updated_at", 2017-04-08 12:18:23 UTC], ["id", 1]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.8ms)


  
NoMethodError (undefined method `find_item_by' for #<Cart:0x007faf56fd4370>):
  
app/controllers/products_controller.rb:15:in `add_to_cart'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb (0.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (54.1ms)
Started POST "/products/21/add_to_cart" for ::1 at 2017-04-08 20:18:23 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 5], ["updated_at", 2017-04-08 12:18:23 UTC], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.3ms)


  
NoMethodError (undefined method `find_item_by' for #<Cart:0x007faf56503ba8>):
  
app/controllers/products_controller.rb:15:in `add_to_cart'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb (0.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (55.3ms)
Started POST "/products/21/add_to_cart" for ::1 at 2017-04-08 20:18:23 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 6], ["updated_at", 2017-04-08 12:18:23 UTC], ["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.0ms)


  
NoMethodError (undefined method `find_item_by' for #<Cart:0x007faf4fff2ca0>):
  
app/controllers/products_controller.rb:15:in `add_to_cart'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb (0.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (54.8ms)
Started POST "/products/21/add_to_cart" for ::1 at 2017-04-08 20:18:23 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 7], ["updated_at", 2017-04-08 12:18:23 UTC], ["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.9ms)


  
NoMethodError (undefined method `find_item_by' for #<Cart:0x007faf4ec5d168>):
  
app/controllers/products_controller.rb:15:in `add_to_cart'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb (0.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (55.1ms)
Started POST "/products/21/add_to_cart" for ::1 at 2017-04-08 20:18:23 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 8], ["updated_at", 2017-04-08 12:18:23 UTC], ["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.0ms)


  
NoMethodError (undefined method `find_item_by' for #<Cart:0x007faf506c0190>):
  
app/controllers/products_controller.rb:15:in `add_to_cart'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.text.erb (0.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (46.5ms)
Started GET "/" for ::1 at 2017-04-08 20:18:55 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (4.8ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (String can't be coerced into Integer):
    2: 
    3: <section id="my_cart">
    4: 	<strong>
    5: 		購物車內有 <%= current_cart.total_quantity %> 件商品，總共 <%= current_cart.total %> 元
    6: 	</strong>
    7: 	<table>
    8: 		<tr>
  
app/models/cart_item.rb:7:in `*'
app/models/cart_item.rb:7:in `subtotal'
app/models/cart.rb:19:in `block in total'
app/models/cart.rb:19:in `total'
app/views/products/index.html.erb:5:in `_app_views_products_index_html_erb___3770721911818885564_70195538609720'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (62.4ms)
Started GET "/" for ::1 at 2017-04-08 20:23:50 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered products/index.html.erb within layouts/application (23.2ms)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined method `subtotal' for #<CartItem:0x007faf556ac050>):
    2: 
    3: <section id="my_cart">
    4: 	<strong>
    5: 		購物車內有 <%= current_cart.total_quantity %> 件商品，總共 <%= current_cart.total %> 元
    6: 	</strong>
    7: 	<table>
    8: 		<tr>
  
app/models/cart.rb:19:in `block in total'
app/models/cart.rb:19:in `total'
app/views/products/index.html.erb:5:in `_app_views_products_index_html_erb___3770721911818885564_70195533138700'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (62.1ms)
Started GET "/" for ::1 at 2017-04-08 20:25:36 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered products/index.html.erb within layouts/application (25.4ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined method `total' for #<Cart:0x007faf550a2a88>):
    2: 
    3: <section id="my_cart">
    4: 	<strong>
    5: 		購物車內有 <%= current_cart.total_quantity %> 件商品，總共 <%= current_cart.total %> 元
    6: 	</strong>
    7: 	<table>
    8: 		<tr>
  
app/views/products/index.html.erb:5:in `_app_views_products_index_html_erb___3770721911818885564_70195471719380'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (53.1ms)
Started GET "/" for ::1 at 2017-04-08 20:27:05 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (32.6ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (String can't be coerced into Integer):
    2: 
    3: <section id="my_cart">
    4: 	<strong>
    5: 		購物車內有 <%= current_cart.total_quantity %> 件商品，總共 <%= current_cart.total %> 元
    6: 	</strong>
    7: 	<table>
    8: 		<tr>
  
app/models/cart_item.rb:7:in `*'
app/models/cart_item.rb:7:in `subtotal'
app/models/cart.rb:19:in `block in total'
app/models/cart.rb:19:in `total'
app/views/products/index.html.erb:5:in `_app_views_products_index_html_erb___3770721911818885564_70195534095660'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.3ms)
Started GET "/" for ::1 at 2017-04-08 20:28:32 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered products/index.html.erb within layouts/application (28.4ms)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined method `subtotal' for #<CartItem:0x007faf503ef010>):
    2: 
    3: <section id="my_cart">
    4: 	<strong>
    5: 		購物車內有 <%= current_cart.total_quantity %> 件商品，總共 <%= current_cart.total %> 元
    6: 	</strong>
    7: 	<table>
    8: 		<tr>
  
app/models/cart.rb:19:in `block in total'
app/models/cart.rb:19:in `total'
app/views/products/index.html.erb:5:in `_app_views_products_index_html_erb___3770721911818885564_70195466829940'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.6ms)
Started GET "/" for ::1 at 2017-04-08 20:29:11 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (26.6ms)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (String can't be coerced into Integer):
    2: 
    3: <section id="my_cart">
    4: 	<strong>
    5: 		購物車內有 <%= current_cart.total_quantity %> 件商品，總共 <%= current_cart.total %> 元
    6: 	</strong>
    7: 	<table>
    8: 		<tr>
  
app/models/cart_item.rb:7:in `*'
app/models/cart_item.rb:7:in `subtotal'
app/models/cart.rb:19:in `block in total'
app/models/cart.rb:19:in `total'
app/views/products/index.html.erb:5:in `_app_views_products_index_html_erb___3770721911818885564_70195534050620'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.7ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer, "payment_method" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method" FROM "orders"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount" FROM "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","name","phone_number","address","email","created_at","updated_at")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408094522"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderItems (20170408090039)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "order_items"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408090039"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateOrderItems (20170408090039)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "price" integer, "quantity" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408090039"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "orders" ADD "amount" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "orders" ADD "payment_method" integer[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408094522"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer, "payment_method" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method" FROM "orders"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount" FROM "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","name","phone_number","address","email","created_at","updated_at")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408094522"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderItems (20170408090039)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "order_items"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408090039"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20170408084615)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408084615"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddColumnQuantityToCartItems (20170408033015)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "product_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "quantity" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "acart_items" ("id","cart_id","product_id","created_at","updated_at","quantity")
                     SELECT "id","cart_id","product_id","created_at","updated_at","quantity" FROM "cart_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "cart_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "product_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("id","cart_id","product_id","created_at","updated_at")
                     SELECT "id","cart_id","product_id","created_at","updated_at" FROM "acart_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acart_items"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408033015"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCartItems (20170407061452)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "cart_items"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170407061452"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddColumnPriceToProduct (20170407034911)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "file_location" varchar, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "price" varchar)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproducts" ("id","name","description","file_location","cart_id","created_at","updated_at","price")
                     SELECT "id","name","description","file_location","cart_id","created_at","updated_at","price" FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "file_location" varchar, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","file_location","cart_id","created_at","updated_at")
                     SELECT "id","name","description","file_location","cart_id","created_at","updated_at" FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aproducts"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170407034911"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnPriceToProduct (20170407034911)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "products" ADD "price" integer[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170407034911"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCartItems (20170407061452)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "product_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170407061452"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddColumnQuantityToCartItems (20170408033015)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "cart_items" ADD "quantity" integer[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408033015"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20170408084615)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408084615"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderItems (20170408090039)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "price" integer, "quantity" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408090039"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "orders" ADD "amount" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "orders" ADD "payment_method" integer[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408094522"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for ::1 at 2017-04-08 20:35:46 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (26.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 73ms (Views: 64.3ms | ActiveRecord: 2.3ms)


Started GET "/" for ::1 at 2017-04-08 20:36:42 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 36ms (Views: 34.3ms | ActiveRecord: 0.5ms)


Started GET "/products/21" for ::1 at 2017-04-08 20:36:43 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 37ms (Views: 33.7ms | ActiveRecord: 0.3ms)


Started POST "/products/21/add_to_cart" for ::1 at 2017-04-08 20:36:51 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 5], ["product_id", 21], ["created_at", 2017-04-08 12:36:51 UTC], ["updated_at", 2017-04-08 12:36:51 UTC], ["quantity", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
No template found for ProductsController#add_to_cart, rendering head :no_content
Completed 204 No Content in 140ms (ActiveRecord: 1.5ms)


Started POST "/products/21/add_to_cart" for ::1 at 2017-04-08 20:36:52 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 2], ["updated_at", 2017-04-08 12:36:52 UTC], ["id", 1]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 21 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
No template found for ProductsController#add_to_cart, rendering head :no_content
Completed 204 No Content in 147ms (ActiveRecord: 1.9ms)


Started GET "/" for ::1 at 2017-04-08 20:40:38 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (40.4ms)
Completed 500 Internal Server Error in 60ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (nil can't be coerced into Integer):
    2: 
    3: <section id="my_cart">
    4: 	<strong>
    5: 		購物車內有 <%= current_cart.total_quantity %> 件商品，總共 <%= current_cart.total %> 元
    6: 	</strong>
    7: 	<table>
    8: 		<tr>
  
app/models/cart_item.rb:7:in `*'
app/models/cart_item.rb:7:in `subtotal'
app/models/cart.rb:19:in `block in total'
app/models/cart.rb:19:in `total'
app/views/products/index.html.erb:5:in `_app_views_products_index_html_erb__4315696826867428287_70285525096260'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (67.2ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer, "payment_method" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method" FROM "orders"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount" FROM "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","name","phone_number","address","email","created_at","updated_at")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408094522"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderItems (20170408090039)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "order_items"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408090039"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20170408084615)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408084615"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddColumnQuantityToCartItems (20170408033015)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "product_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "quantity" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "acart_items" ("id","cart_id","product_id","created_at","updated_at","quantity")
                     SELECT "id","cart_id","product_id","created_at","updated_at","quantity" FROM "cart_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "cart_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "product_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("id","cart_id","product_id","created_at","updated_at")
                     SELECT "id","cart_id","product_id","created_at","updated_at" FROM "acart_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acart_items"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408033015"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCartItems (20170407061452)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "cart_items"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170407061452"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddColumnPriceToProduct (20170407034911)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "file_location" varchar, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "price" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproducts" ("id","name","description","file_location","cart_id","created_at","updated_at","price")
                     SELECT "id","name","description","file_location","cart_id","created_at","updated_at","price" FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "file_location" varchar, "cart_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","file_location","cart_id","created_at","updated_at")
                     SELECT "id","name","description","file_location","cart_id","created_at","updated_at" FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aproducts"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170407034911"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnPriceToProduct (20170407034911)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "products" ADD "price" integer DEFAULT 0[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170407034911"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCartItems (20170407061452)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "product_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170407061452"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddColumnQuantityToCartItems (20170408033015)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "cart_items" ADD "quantity" integer[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408033015"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20170408084615)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408084615"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderItems (20170408090039)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "price" integer, "quantity" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408090039"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "orders" ADD "amount" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "orders" ADD "payment_method" integer[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408094522"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for ::1 at 2017-04-08 20:42:24 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (27.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 364ms (Views: 354.0ms | ActiveRecord: 2.4ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 21]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 21]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 21]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 22]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 22]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 22]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 23]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 23]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 23]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 24]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 24]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 24]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 25]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 25]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 25]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 26]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 26]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 26]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 27]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 27]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 27]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 28]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 28]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 28]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 29]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 29]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 29]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 30]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 30]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 30]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 31]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 31]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 31]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 32]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 32]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 32]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 33]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 33]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 33]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 34]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 34]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 34]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 35]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 35]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 35]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 36]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 36]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 36]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 37]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 37]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 37]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 38]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 38]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 38]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 39]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 39]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 39]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."product_id" = ?[0m  [["product_id", 40]]
  [1m[36mOrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."product_id" = ?[0m  [["product_id", 40]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 40]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/orders/new" for ::1 at 2017-04-08 20:46:39 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.2ms)


  
NoMethodError (undefined method `order' for #<User:0x007fd93a2dc448>
Did you mean?  orders
               orders=):
  
app/controllers/orders_controller.rb:6:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (49.8ms)
Started GET "/" for ::1 at 2017-04-08 20:46:41 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (16.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 53ms (Views: 42.3ms | ActiveRecord: 1.8ms)


Started GET "/" for ::1 at 2017-04-08 20:46:45 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 31ms (Views: 28.7ms | ActiveRecord: 0.4ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Georgiana Daniel PhD"], ["description", "Animi consectetur necessitatibus."], ["file_location", "https://robohash.org/doloresquisquamest.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 9022]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Obie Ernser"], ["description", "Recusandae quos magnam sint quisquam."], ["file_location", "https://robohash.org/consequaturutnesciunt.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 4880]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Miss Saige Kuhlman"], ["description", "Aliquam fugit exercitationem illo vitae rerum voluptas aspernatur."], ["file_location", "https://robohash.org/molestiasfugiatnatus.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 8200]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Evan Crona"], ["description", "Minus eligendi dolor et voluptas blanditiis."], ["file_location", "https://robohash.org/molestiascorporisaut.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 9359]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dell Hills"], ["description", "Eligendi hic voluptate natus omnis rerum dolores reiciendis."], ["file_location", "https://robohash.org/quiavoluptasin.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 3019]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Miss Helmer Stoltenberg"], ["description", "Rerum aut voluptatem."], ["file_location", "https://robohash.org/quaeratutesse.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 8080]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Tania Wilderman DDS"], ["description", "Fugit velit deserunt sapiente sit quam illum quisquam."], ["file_location", "https://robohash.org/natusetsaepe.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 5115]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mrs. Obie Russel"], ["description", "Culpa atque beatae facere et sed quia dignissimos."], ["file_location", "https://robohash.org/eadignissimosest.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 7715]]
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lilian Carroll"], ["description", "Voluptatem deleniti perspiciatis cum aut."], ["file_location", "https://robohash.org/quidignissimosillo.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 1497]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mrs. Garret White"], ["description", "Dolores esse enim consequatur."], ["file_location", "https://robohash.org/uteumnemo.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 8598]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kenna Bergnaum"], ["description", "Dolorem voluptatem aut nulla."], ["file_location", "https://robohash.org/liberosuntaspernatur.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 2490]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Camren Hoeger"], ["description", "Excepturi eum sint hic ut deserunt natus."], ["file_location", "https://robohash.org/earumvitaeoccaecati.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 520]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Henderson Carter Sr."], ["description", "Sed quas deserunt."], ["file_location", "https://robohash.org/aspernaturestnon.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 6071]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Arely Rutherford"], ["description", "Rerum blanditiis corporis nihil magnam nemo quia."], ["file_location", "https://robohash.org/culpafugitqui.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 3594]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Edd Fay DDS"], ["description", "Et impedit sed cumque voluptatem quas."], ["file_location", "https://robohash.org/maiorespraesentiumquae.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 9332]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Moises Grant"], ["description", "Nulla nam odio ut."], ["file_location", "https://robohash.org/temporainventoredoloremque.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 5011]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Aidan Schmidt"], ["description", "Voluptatem voluptatem autem."], ["file_location", "https://robohash.org/distinctioquimodi.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 4444]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Kendrick Powlowski"], ["description", "Nesciunt earum facilis quam."], ["file_location", "https://robohash.org/noneiusid.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 338]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elmira Corwin"], ["description", "Eaque hic reiciendis rerum voluptatem."], ["file_location", "https://robohash.org/maximedelectusnobis.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 998]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "file_location", "created_at", "updated_at", "price") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Gabriella Ryan"], ["description", "Quam est dolorum eum quo."], ["file_location", "https://robohash.org/dolorimpeditneque.png?size=300x300&set=set1"], ["created_at", 2017-04-08 12:47:48 UTC], ["updated_at", 2017-04-08 12:47:48 UTC], ["price", 2317]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for ::1 at 2017-04-08 20:47:51 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (21.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 67ms (Views: 56.7ms | ActiveRecord: 2.2ms)


Started GET "/" for ::1 at 2017-04-08 20:48:19 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 42ms (Views: 39.8ms | ActiveRecord: 0.5ms)


Started POST "/products/41/add_to_cart" for ::1 at 2017-04-08 20:49:07 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"41"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 5], ["product_id", 41], ["created_at", 2017-04-08 12:49:07 UTC], ["updated_at", 2017-04-08 12:49:07 UTC], ["quantity", 1]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
No template found for ProductsController#add_to_cart, rendering head :no_content
Completed 204 No Content in 167ms (ActiveRecord: 4.4ms)


Started GET "/" for ::1 at 2017-04-08 20:49:13 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (242.0ms)
Completed 500 Internal Server Error in 249ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined local variable or method `cart_items' for #<#<Class:0x007fd93fb230e8>:0x007fd93fb21f40>
Did you mean?  carts_path):
    13: 		</tr>
    14: 		<% current_cart.cart_items.each do |item| %>
    15: 		<tr>
    16: 			<td><%= cart_items.product.name %></td>
    17: 			<td><%= cart_items.quantity %></td>
    18: 			<td><%= cart_items.product.price %></td>
    19: 			<td><%= cart_items.subtotal %></td>
  
app/views/products/index.html.erb:16:in `block in _app_views_products_index_html_erb__4315696826867428287_70285526637760'
app/views/products/index.html.erb:14:in `_app_views_products_index_html_erb__4315696826867428287_70285526637760'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.8ms)
Started GET "/" for ::1 at 2017-04-08 20:49:31 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (258.6ms)
Completed 500 Internal Server Error in 264ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined local variable or method `cart_items' for #<#<Class:0x007fd93fb230e8>:0x007fd94278e970>
Did you mean?  carts_path):
    13: 		</tr>
    14: 		<% current_cart.cart_items.each do |item| %>
    15: 		<tr>
    16: 			<td><%= cart_items.product.name %></td>
    17: 			<td><%= cart_items.quantity %></td>
    18: 			<td><%= cart_items.product.price %></td>
    19: 			<td><%= cart_items.subtotal %></td>
  
app/views/products/index.html.erb:16:in `block in _app_views_products_index_html_erb__4315696826867428287_70285549926820'
app/views/products/index.html.erb:14:in `_app_views_products_index_html_erb__4315696826867428287_70285549926820'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (55.8ms)
Started GET "/" for ::1 at 2017-04-08 20:50:38 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (306.6ms)
Completed 500 Internal Server Error in 319ms (ActiveRecord: 2.7ms)


  
ActionView::Template::Error (undefined local variable or method `cart_items' for #<#<Class:0x007fd942239380>:0x007fd94228a9d8>
Did you mean?  carts_path):
    13: 		</tr>
    14: 		<% current_cart.cart_items.each do |item| %>
    15: 		<tr>
    16: 			<td><%= cart_items.product.name %></td>
    17: 			<td><%= cart_items.quantity %></td>
    18: 			<td><%= cart_items.product.price %></td>
    19: 			<td><%= cart_items.subtotal %></td>
  
app/views/products/index.html.erb:16:in `block in _app_views_products_index_html_erb__4315696826867428287_70285547132080'
app/views/products/index.html.erb:14:in `_app_views_products_index_html_erb__4315696826867428287_70285547132080'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (59.2ms)
Started GET "/" for ::1 at 2017-04-08 20:50:47 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (304.9ms)
Completed 500 Internal Server Error in 318ms (ActiveRecord: 2.2ms)


  
ActionView::Template::Error (undefined local variable or method `cart_items' for #<#<Class:0x007fd93afb2d98>:0x007fd93afa3938>
Did you mean?  carts_path):
    13: 		</tr>
    14: 		<% current_cart.cart_items.each do |item| %>
    15: 		<tr>
    16: 			<td><%= cart_items.product.name %></td>
    17: 			<td><%= cart_items.quantity %></td>
    18: 			<td><%= cart_items.product.price %></td>
    19: 			<td><%= cart_items.subtotal %></td>
  
app/views/products/index.html.erb:16:in `block in _app_views_products_index_html_erb__4315696826867428287_70285487113240'
app/views/products/index.html.erb:14:in `_app_views_products_index_html_erb__4315696826867428287_70285487113240'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.2ms)
Started GET "/" for ::1 at 2017-04-08 20:50:53 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (184.4ms)
Completed 500 Internal Server Error in 189ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined local variable or method `cart_items' for #<#<Class:0x007fd93afb2d98>:0x007fd93fadbec8>
Did you mean?  carts_path):
    13: 		</tr>
    14: 		<% current_cart.cart_items.each do |item| %>
    15: 		<tr>
    16: 			<td><%= cart_items.product.name %></td>
    17: 			<td><%= cart_items.quantity %></td>
    18: 			<td><%= cart_items.product.price %></td>
    19: 			<td><%= cart_items.subtotal %></td>
  
app/views/products/index.html.erb:16:in `block in _app_views_products_index_html_erb__4315696826867428287_70285526500500'
app/views/products/index.html.erb:14:in `_app_views_products_index_html_erb__4315696826867428287_70285526500500'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (52.0ms)
Started PUT "/__web_console/repl_sessions/35e5627169c70e4107d7033df4087b7e" for ::1 at 2017-04-08 20:51:40 +0800
Started PUT "/__web_console/repl_sessions/35e5627169c70e4107d7033df4087b7e" for ::1 at 2017-04-08 20:51:41 +0800
Started GET "/" for ::1 at 2017-04-08 20:55:34 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (240.6ms)
Completed 500 Internal Server Error in 251ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (undefined local variable or method `cart_items' for #<#<Class:0x007fd93af0b3b8>:0x007fd93af088c0>
Did you mean?  carts_path):
    13: 		</tr>
    14: 		<% current_cart.cart_items.each do |item| %>
    15: 		<tr>
    16: 			<td><%= cart_items.product.name %></td>
    17: 			<td><%= cart_items.quantity %></td>
    18: 			<td><%= cart_items.product.price %></td>
    19: 			<td><%= cart_items.subtotal %></td>
  
app/views/products/index.html.erb:16:in `block in _app_views_products_index_html_erb__4315696826867428287_70285486752840'
app/views/products/index.html.erb:14:in `_app_views_products_index_html_erb__4315696826867428287_70285486752840'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (64.9ms)
Started GET "/" for ::1 at 2017-04-08 20:58:24 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (7.9ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (Missing partial shared/_item with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views"
  * "/usr/local/lib/ruby/gems/2.4.0/gems/devise-4.2.1/app/views"
):
    12: 			<th>小計</th>
    13: 		</tr>
    14:     <% current_cart.cart_items.each do |item| %>
    15:       <%= render partial: 'shared/item', locals: { item: item }%>
    16:     <% end %>	
    17: 	</table>
    18: 	<%= link_to '我要結帳！', new_order_path %>
  
app/views/products/index.html.erb:15:in `block in _app_views_products_index_html_erb__4315696826867428287_70285552927820'
app/views/products/index.html.erb:14:in `_app_views_products_index_html_erb__4315696826867428287_70285552927820'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (55.6ms)
Started GET "/" for ::1 at 2017-04-09 10:20:17 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (45.2ms)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (Missing partial shared/_item with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views"
  * "/usr/local/lib/ruby/gems/2.4.0/gems/devise-4.2.1/app/views"
):
    12: 			<th>小計</th>
    13: 		</tr>
    14:     <% current_cart.cart_items.each do |item| %>
    15:       <%= render partial: 'shared/item', locals: { item: item }%>
    16:     <% end %>	
    17: 	</table>
    18: 	<%= link_to '我要結帳！', new_order_path %>
  
app/views/products/index.html.erb:15:in `block in _app_views_products_index_html_erb__364500830934166252_70301813659060'
app/views/products/index.html.erb:14:in `_app_views_products_index_html_erb__364500830934166252_70301813659060'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.7ms)
Started GET "/" for ::1 at 2017-04-09 10:25:07 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (6.1ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (Missing partial shared/_item with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views"
  * "/usr/local/lib/ruby/gems/2.4.0/gems/devise-4.2.1/app/views"
):
    11:       <th>小計</th>
    12:     </tr>
    13:     <% current_cart.cart_items.each do |item| %>
    14:       <%= render partial: 'shared/item', locals: { item: item }%>
    15:     <% end %>
    16:   </table>
    17:   <%= link_to '我要結帳！', new_order_path %>
  
app/views/products/index.html.erb:14:in `block in _app_views_products_index_html_erb__364500830934166252_70301814584040'
app/views/products/index.html.erb:13:in `_app_views_products_index_html_erb__364500830934166252_70301814584040'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (52.7ms)
Started GET "/" for ::1 at 2017-04-09 10:38:31 +0800
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `page' for #<Class:0x007fe0d52e4560>):
  
app/controllers/products_controller.rb:4:in `index'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.3ms)
Started GET "/" for ::1 at 2017-04-09 10:39:05 +0800
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `page' for #<Class:0x007fe0d1b1b5e8>):
  
app/controllers/products_controller.rb:4:in `index'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (65.3ms)
Started GET "/" for ::1 at 2017-04-09 10:39:21 +0800
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `per' for #<Product::ActiveRecord_Relation:0x007fe0d54e9bf8>):
  
app/controllers/products_controller.rb:4:in `index'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (58.3ms)
Started GET "/" for ::1 at 2017-04-09 10:39:29 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (31.9ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (Missing partial shared/_item with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views"
  * "/usr/local/lib/ruby/gems/2.4.0/gems/devise-4.2.1/app/views"
):
    11:       <th>小計</th>
    12:     </tr>
    13:     <% current_cart.cart_items.each do |item| %>
    14:       <%= render partial: 'shared/item', locals: { item: item }%>
    15:     <% end %>
    16:   </table>
    17:   <%= link_to '我要結帳！', new_order_path %>
  
app/views/products/index.html.erb:14:in `block in _app_views_products_index_html_erb__364500830934166252_70301811840460'
app/views/products/index.html.erb:13:in `_app_views_products_index_html_erb__364500830934166252_70301811840460'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (62.7ms)
Started GET "/" for ::1 at 2017-04-09 10:47:10 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (27.0ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (Missing partial shared/_item with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views"
  * "/usr/local/lib/ruby/gems/2.4.0/gems/devise-4.2.1/app/views"
):
    11:       <th>小計</th>
    12:     </tr>
    13:     <% current_cart.cart_items.each do |item| %>
    14:       <%= render partial: 'shared/item', locals: { item: item }%>
    15:     <% end %>
    16:   </table>
    17:   <%= link_to '我要結帳！', new_order_path %>
  
app/views/products/index.html.erb:14:in `block in _app_views_products_index_html_erb__364500830934166252_70301813501520'
app/views/products/index.html.erb:13:in `_app_views_products_index_html_erb__364500830934166252_70301813501520'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (61.6ms)
Started GET "/" for ::1 at 2017-04-09 10:57:38 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (7.7ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (Missing partial shared/_item with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views"
  * "/usr/local/lib/ruby/gems/2.4.0/gems/devise-4.2.1/app/views"
):
    11:       <th>小計</th>
    12:     </tr>
    13:     <% current_cart.cart_items.each do |item| %>
    14:       <%= render partial: 'shared/item', locals: { item: item }%>
    15:     <% end %>
    16:   </table>
    17:   <%= link_to '我要結帳！', new_order_path %>
  
app/views/products/index.html.erb:14:in `block in _app_views_products_index_html_erb__364500830934166252_70301787203260'
app/views/products/index.html.erb:13:in `_app_views_products_index_html_erb__364500830934166252_70301787203260'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.4ms)
Started GET "/" for ::1 at 2017-04-09 13:52:52 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (33.5ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (Missing partial shared/_item with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views"
  * "/usr/local/lib/ruby/gems/2.4.0/gems/devise-4.2.1/app/views"
):
    11:       <th>小計</th>
    12:     </tr>
    13:     <% current_cart.cart_items.each do |item| %>
    14:       <%= render partial: 'shared/item', locals: { item: item }%>
    15:     <% end %>
    16:   </table>
    17:   <%= link_to '我要結帳！', new_order_path %>
  
app/views/products/index.html.erb:14:in `block in _app_views_products_index_html_erb__364500830934166252_70301785284120'
app/views/products/index.html.erb:13:in `_app_views_products_index_html_erb__364500830934166252_70301785284120'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (62.2ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddStatusToOrder (20170409055633)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "orders" ADD "order_status" integer DEFAULT 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "orders" ADD "payment_status" integer[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_orders_on_order_status" ON "orders" ("order_status")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orders_on_order_status' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orders_on_order_status' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_orders_on_payment_status" ON "orders" ("payment_status")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170409055633"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orders_on_payment_status' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orders_on_payment_status' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orders_on_order_status' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orders_on_order_status' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for ::1 at 2017-04-09 14:31:37 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered products/index.html.erb within layouts/application (30.9ms)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (Missing partial shared/_item with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/ray/Desktop/program/ac-exercise-shopping-cart/app/views"
  * "/usr/local/lib/ruby/gems/2.4.0/gems/devise-4.2.1/app/views"
):
    11:       <th>小計</th>
    12:     </tr>
    13:     <% current_cart.cart_items.each do |item| %>
    14:       <%= render partial: 'shared/item', locals: { item: item }%>
    15:     <% end %>
    16:   </table>
    17:   <%= link_to '我要結帳！', new_order_path %>
  
app/views/products/index.html.erb:14:in `block in _app_views_products_index_html_erb__364500830934166252_70301813606040'
app/views/products/index.html.erb:13:in `_app_views_products_index_html_erb__364500830934166252_70301813606040'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (65.7ms)
Started GET "/" for ::1 at 2017-04-09 14:38:10 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.6ms)
  Rendered products/index.html.erb within layouts/application (32.5ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    20: 
    21: <div class="container">	
    22: 	<div class="row">
    23: 		<% @product.each do |product| %>
    24: 			<div class="col-xs-6 col-md-3">
    25: 				<P><%= image_tag(product.file_location, :width => 50) %></P>
    26: 				<p><%= link_to product.name, product_path(product) %></p>
  
app/views/products/index.html.erb:23:in `_app_views_products_index_html_erb__364500830934166252_70301814290500'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (59.4ms)
Started PUT "/__web_console/repl_sessions/8886422678ce3d8666b4573642b77e9a" for ::1 at 2017-04-09 14:38:38 +0800
Started PUT "/__web_console/repl_sessions/8886422678ce3d8666b4573642b77e9a" for ::1 at 2017-04-09 14:38:38 +0800
Started PUT "/__web_console/repl_sessions/8886422678ce3d8666b4573642b77e9a" for ::1 at 2017-04-09 14:39:54 +0800
Started PUT "/__web_console/repl_sessions/8886422678ce3d8666b4573642b77e9a" for ::1 at 2017-04-09 14:40:02 +0800
Started PUT "/__web_console/repl_sessions/8886422678ce3d8666b4573642b77e9a" for ::1 at 2017-04-09 14:40:04 +0800
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2017-04-09 14:43:57 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.4ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (32.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 1827ms (Views: 1817.6ms | ActiveRecord: 2.3ms)


Started POST "/products/41/add_to_cart" for ::1 at 2017-04-09 14:44:01 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"41"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 2], ["updated_at", 2017-04-09 06:44:01 UTC], ["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
No template found for ProductsController#add_to_cart, rendering head :no_content
Completed 204 No Content in 108ms (ActiveRecord: 2.3ms)


Started POST "/products/42/add_to_cart" for ::1 at 2017-04-09 14:44:05 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"42"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 42 LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 5], ["product_id", 42], ["created_at", 2017-04-09 06:44:05 UTC], ["updated_at", 2017-04-09 06:44:05 UTC], ["quantity", 1]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 42 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
No template found for ProductsController#add_to_cart, rendering head :no_content
Completed 204 No Content in 101ms (ActiveRecord: 2.3ms)


Started GET "/" for ::1 at 2017-04-09 14:44:07 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.4ms)
  Rendered shared/_item.html.erb (0.1ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (10.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 49ms (Views: 46.4ms | ActiveRecord: 0.9ms)


Started GET "/orders/new" for ::1 at 2017-04-09 14:44:33 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (477.7ms)
Completed 500 Internal Server Error in 500ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (undefined method `phone' for #<Order:0x007fe0d8e36028>):
    18: 
    19:   <p>
    20:     <%= f.label :phone %>
    21:     <%= f.text_field :phone %>
    22:   </p>
    23: 
    24:   <p>
  
app/views/orders/new.html.erb:21:in `block in _app_views_orders_new_html_erb___1132103039021597537_70301803563220'
app/views/orders/new.html.erb:1:in `_app_views_orders_new_html_erb___1132103039021597537_70301803563220'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (52.7ms)
Started GET "/orders/new" for ::1 at 2017-04-09 14:45:42 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (4.6ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 40ms (Views: 36.3ms | ActiveRecord: 0.2ms)


Started DELETE "/users/sign_out" for ::1 at 2017-04-09 22:08:19 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"GuPjttfhZWUsn3BgtS9ucXXXn0j5KoffizvFKbuGGvG+haYuCJowrgOMEQBqH3hnwO4s67SUKjEYwbSaDQ8uYA=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-09 22:08:19 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-09 14:08:19 UTC], ["updated_at", 2017-04-09 14:08:19 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (8.9ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 56ms (Views: 52.7ms | ActiveRecord: 1.5ms)


Started GET "/" for ::1 at 2017-04-10 10:01:54 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (61.0ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 338ms (Views: 314.7ms | ActiveRecord: 2.3ms)


Started POST "/products/41/add_to_cart" for ::1 at 2017-04-10 10:01:58 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"41"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 LIMIT ?[0m  [["cart_id", 6], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 6], ["product_id", 41], ["created_at", 2017-04-10 02:01:58 UTC], ["updated_at", 2017-04-10 02:01:58 UTC], ["quantity", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 6], ["LIMIT", 1]]
No template found for ProductsController#add_to_cart, rendering head :no_content
Completed 204 No Content in 106ms (ActiveRecord: 2.0ms)


Started GET "/" for ::1 at 2017-04-10 10:02:01 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.5ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (10.0ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 43ms (Views: 40.3ms | ActiveRecord: 0.8ms)


Started POST "/products/41/add_to_cart" for ::1 at 2017-04-10 10:58:37 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"41"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 LIMIT ?[0m  [["cart_id", 6], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 2], ["updated_at", 2017-04-10 02:58:37 UTC], ["id", 3]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 6], ["LIMIT", 1]]
No template found for ProductsController#add_to_cart, rendering head :no_content
Completed 204 No Content in 109ms (ActiveRecord: 1.9ms)


Started GET "/" for ::1 at 2017-04-10 10:58:39 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.6ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.9ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 53ms (Views: 50.6ms | ActiveRecord: 0.7ms)


Started GET "/orders/new" for ::1 at 2017-04-10 10:59:24 +0800
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `orders' for nil:NilClass):
  
app/controllers/orders_controller.rb:6:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (58.7ms)
Started GET "/" for ::1 at 2017-04-10 10:59:28 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.7ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (11.5ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 68ms (Views: 66.3ms | ActiveRecord: 0.5ms)


Started GET "/orders/new" for ::1 at 2017-04-10 11:02:44 +0800
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `orders' for nil:NilClass):
  
app/controllers/orders_controller.rb:6:in `new'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (49.3ms)
Started PUT "/__web_console/repl_sessions/f3c8b5858ebb15c43266530779537f6a" for ::1 at 2017-04-10 11:03:47 +0800
Started PUT "/__web_console/repl_sessions/f3c8b5858ebb15c43266530779537f6a" for ::1 at 2017-04-10 11:03:48 +0800
Started PUT "/__web_console/repl_sessions/f3c8b5858ebb15c43266530779537f6a" for ::1 at 2017-04-10 11:03:52 +0800
Started PUT "/__web_console/repl_sessions/f3c8b5858ebb15c43266530779537f6a" for ::1 at 2017-04-10 11:04:03 +0800
Started PUT "/__web_console/repl_sessions/f3c8b5858ebb15c43266530779537f6a" for ::1 at 2017-04-10 11:04:35 +0800
Started PUT "/__web_console/repl_sessions/f3c8b5858ebb15c43266530779537f6a" for ::1 at 2017-04-10 11:04:38 +0800
Started PUT "/__web_console/repl_sessions/f3c8b5858ebb15c43266530779537f6a" for ::1 at 2017-04-10 11:04:57 +0800
Started PUT "/__web_console/repl_sessions/f3c8b5858ebb15c43266530779537f6a" for ::1 at 2017-04-10 11:04:57 +0800
Started GET "/" for ::1 at 2017-04-10 11:05:08 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.4ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.1ms)
  Rendered common/_navbar.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 42ms (Views: 39.2ms | ActiveRecord: 0.9ms)


Started GET "/users/sign_in" for ::1 at 2017-04-10 11:05:10 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (476.3ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 522ms (Views: 505.7ms | ActiveRecord: 0.5ms)


Started GET "/users/sign_up" for ::1 at 2017-04-10 11:05:24 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.9ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 38ms (Views: 37.4ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2017-04-10 11:05:35 +0800
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tYxt+lBuLCB3PLz/+eEwNF1NO3WZ6lXg4/ukmwM+j9RvGChgyTNY2XAWMLGcINYW4XgRRufCV+kxsEUCuZhQBQ==", "user"=>{"email"=>"111111@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "111111@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "111111@gmail.com"], ["encrypted_password", "$2a$11$wG5JrArA9r7EdTFXDbPNSuYIvFWIBW3DRCeJy8xe5JHkYSe.2JOZ."], ["created_at", 2017-04-10 03:05:35 UTC], ["updated_at", 2017-04-10 03:05:35 UTC]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-04-10 03:05:35 UTC], ["last_sign_in_at", 2017-04-10 03:05:35 UTC], ["current_sign_in_ip", "::1"], ["last_sign_in_ip", "::1"], ["updated_at", 2017-04-10 03:05:35 UTC], ["id", 2]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 173ms (ActiveRecord: 2.0ms)


Started GET "/" for ::1 at 2017-04-10 11:05:35 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.4ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 43ms (Views: 40.6ms | ActiveRecord: 0.6ms)


Started GET "/orders/new" for ::1 at 2017-04-10 11:05:40 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (5.7ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 48ms (Views: 35.3ms | ActiveRecord: 0.4ms)


Started POST "/orders" for ::1 at 2017-04-10 11:06:17 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"maKXLXsE5mP34MUa35vFRRyf3ghnB3vnk9LBlvaPJB4mlgEnY4gETJwJGRvG9TR0LJELjG5l8SV1qQuhSJ3NPA==", "order"=>{"name"=>"111111", "email"=>"jioherry@gmail.com", "phone_number"=>"1111111111", "address"=>"111111", "payment_method"=>"credit"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: phone_number
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.8ms)


  
NoMethodError (undefined method `phone' for #<Order:0x007ffd6dd64350>):
  
app/controllers/orders_controller.rb:19:in `create'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (51.6ms)
Started POST "/orders" for ::1 at 2017-04-10 11:08:47 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"maKXLXsE5mP34MUa35vFRRyf3ghnB3vnk9LBlvaPJB4mlgEnY4gETJwJGRvG9TR0LJELjG5l8SV1qQuhSJ3NPA==", "order"=>{"name"=>"111111", "email"=>"jioherry@gmail.com", "phone_number"=>"1111111111", "address"=>"111111", "payment_method"=>"credit"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: phone_number
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 69ms (ActiveRecord: 2.9ms)


  
NoMethodError (undefined method `phone' for #<Order:0x007ffd70515048>):
  
app/controllers/orders_controller.rb:19:in `create'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (51.7ms)
Started POST "/orders" for ::1 at 2017-04-10 11:13:57 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"maKXLXsE5mP34MUa35vFRRyf3ghnB3vnk9LBlvaPJB4mlgEnY4gETJwJGRvG9TR0LJELjG5l8SV1qQuhSJ3NPA==", "order"=>{"name"=>"111111", "email"=>"jioherry@gmail.com", "phone_number"=>"1111111111", "address"=>"111111", "payment_method"=>"credit"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: phone_number
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `phone' for #<Order:0x007ffd706f25a0>):
  
app/controllers/orders_controller.rb:19:in `create'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (51.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddStatusToOrder (20170409055633)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orders_on_payment_status' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orders_on_payment_status' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orders_on_order_status' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orders_on_order_status' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX "index_orders_on_payment_status"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orders_on_order_status' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orders_on_order_status' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX "index_orders_on_order_status"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer, "payment_method" integer, "order_status" integer DEFAULT 0, "payment_status" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method","order_status","payment_status")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method","order_status","payment_status" FROM "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer, "payment_method" integer, "order_status" integer DEFAULT 0)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method","order_status")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method","order_status" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer, "payment_method" integer, "order_status" integer DEFAULT 0)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method","order_status")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method","order_status" FROM "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer, "payment_method" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170409055633"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer, "payment_method" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount","payment_method" FROM "orders"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "amount" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","name","phone_number","address","email","created_at","updated_at","amount")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at","amount" FROM "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone_number" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","name","phone_number","address","email","created_at","updated_at")
                     SELECT "id","user_id","name","phone_number","address","email","created_at","updated_at" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408094522"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderItems (20170408090039)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "order_items"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408090039"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20170408084615)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170408084615"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateOrders (20170408084615)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408084615"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderItems (20170408090039)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "price" integer, "quantity" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408090039"]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddColumnToOrders (20170408094522)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "orders" ADD "amount" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "orders" ADD "payment_method" integer[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170408094522"]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddStatusToOrder (20170409055633)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "orders" ADD "order_status" integer DEFAULT 0[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "orders" ADD "payment_status" integer[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_orders_on_order_status" ON "orders" ("order_status")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orders_on_order_status' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orders_on_order_status' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_orders_on_payment_status" ON "orders" ("payment_status")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170409055633"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orders_on_payment_status' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orders_on_payment_status' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orders_on_order_status' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orders_on_order_status' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started POST "/orders" for ::1 at 2017-04-10 13:51:04 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"maKXLXsE5mP34MUa35vFRRyf3ghnB3vnk9LBlvaPJB4mlgEnY4gETJwJGRvG9TR0LJELjG5l8SV1qQuhSJ3NPA==", "order"=>{"name"=>"111111", "email"=>"jioherry@gmail.com", "phone_number"=>"1111111111", "address"=>"111111", "payment_method"=>"credit"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: phone_number
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (12.5ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 680ms (Views: 215.9ms | ActiveRecord: 3.2ms)


Started POST "/orders" for ::1 at 2017-04-10 13:51:11 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Y7A7TKgpfH7lwgM+hYhQokt7cmZ9vi0Q/bAIdbXGs/n+zC0rQNZNqfcYUHZ95PDgE0Dkj5mBR1K1hX15swaN5w==", "order"=>{"name"=>"111111", "email"=>"jioherry@gmail.com", "phone"=>"1111111111", "address"=>"111111", "payment_method"=>"credit"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "name", "phone", "address", "email", "created_at", "updated_at", "amount", "payment_method", "payment_status") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 2], ["name", "111111"], ["phone", "1111111111"], ["address", "111111"], ["email", "jioherry@gmail.com"], ["created_at", 2017-04-10 05:51:11 UTC], ["updated_at", 2017-04-10 05:51:11 UTC], ["amount", 18044], ["payment_method", 0], ["payment_status", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "price", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["order_id", 1], ["product_id", 41], ["price", 9022], ["quantity", 2], ["created_at", 2017-04-10 05:51:11 UTC], ["updated_at", 2017-04-10 05:51:11 UTC]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/orders/1
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
  Rendered shared/_order_list.html.erb (2.7ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (4.4ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.3ms)
UserMailer#notify_order_create: processed outbound mail in 244.1ms
Completed 500 Internal Server Error in 375ms (ActiveRecord: 3.3ms)


  
Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 25):
  
app/controllers/orders_controller.rb:22:in `create'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.1ms)
Started PUT "/__web_console/repl_sessions/5d68d1d3d0a6f371e99eef303bf6f900" for ::1 at 2017-04-10 14:08:50 +0800
Started PUT "/__web_console/repl_sessions/5d68d1d3d0a6f371e99eef303bf6f900" for ::1 at 2017-04-10 14:08:56 +0800
Started GET "/api/v1/topics" for ::1 at 2017-04-10 17:14:54 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
ActionController::RoutingError (No route matches [GET] "/api/v1/topics"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [51 times] (14.1ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (7.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (8.2ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (96.1ms)
Started GET "/" for ::1 at 2017-04-10 17:14:57 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-10 09:14:57 UTC], ["updated_at", 2017-04-10 09:14:57 UTC]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (42.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 308ms (Views: 298.3ms | ActiveRecord: 4.0ms)


Started POST "/products/59/add_to_cart" for ::1 at 2017-04-10 17:15:08 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"59"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 59 LIMIT ?[0m  [["cart_id", 7], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 7], ["product_id", 59], ["created_at", 2017-04-10 09:15:08 UTC], ["updated_at", 2017-04-10 09:15:08 UTC], ["quantity", 1]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 59 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 7], ["LIMIT", 1]]
No template found for ProductsController#add_to_cart, rendering head :no_content
Completed 204 No Content in 116ms (ActiveRecord: 2.6ms)


Started GET "/" for ::1 at 2017-04-10 17:15:11 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.8ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (12.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 76ms (Views: 73.4ms | ActiveRecord: 0.9ms)


Started GET "/orders/new" for ::1 at 2017-04-10 17:15:13 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (325.3ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 392ms (Views: 357.5ms | ActiveRecord: 13.6ms)


Started DELETE "/users/sign_out" for ::1 at 2017-04-10 17:15:20 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"XlCyQfGG1GaC2/xSsK+SBxQv6VXnph0QlMvW/ijzq5PDLKQmGXnlsZABrxpIwzJFTBR/vAOZd1Lc/qPyLjOVjQ=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-10 17:15:20 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-10 09:15:20 UTC], ["updated_at", 2017-04-10 09:15:20 UTC]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.4ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 47ms (Views: 44.7ms | ActiveRecord: 1.0ms)


Started GET "/users/sign_in" for ::1 at 2017-04-10 17:15:21 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.9ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 53ms (Views: 49.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2017-04-10 17:15:36 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0CrxS5xTqAy6zU9HZE3QDs+NOklRWbH68crnYN8nfKB2JK8H7ijknEzsOTr5gWy1yOhN8GIz7pHTrHwDNj4Qww==", "user"=>{"email"=>"jioherry@gmil.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "jioherry@gmil.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.2ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0CrxS5xTqAy6zU9HZE3QDs+NOklRWbH68crnYN8nfKB2JK8H7ijknEzsOTr5gWy1yOhN8GIz7pHTrHwDNj4Qww==", "user"=>{"email"=>"jioherry@gmil.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.0ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 168ms (Views: 33.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2017-04-10 17:15:38 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.2ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 40ms (Views: 38.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2017-04-10 17:15:49 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UTRi5TISlkv3JF9Yb/u/2Sds8zkYaQmQnPPXQnUo8GP3OjypQGna2wEFKSXyNwNiIAmEgCsDVvu+lUwhnDGcAA==", "user"=>{"email"=>"jioherry@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "jioherry@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", 2017-04-10 09:15:49 UTC], ["sign_in_count", 2], ["updated_at", 2017-04-10 09:15:49 UTC], ["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 147ms (ActiveRecord: 2.0ms)


Started GET "/" for ::1 at 2017-04-10 17:15:49 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 36ms (Views: 34.0ms | ActiveRecord: 0.5ms)


Started POST "/products/42/add_to_cart" for ::1 at 2017-04-10 17:15:52 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"42"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 42 LIMIT ?[0m  [["cart_id", 8], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 8], ["product_id", 42], ["created_at", 2017-04-10 09:15:52 UTC], ["updated_at", 2017-04-10 09:15:52 UTC], ["quantity", 1]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 42 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 8], ["LIMIT", 1]]
No template found for ProductsController#add_to_cart, rendering head :no_content
Completed 204 No Content in 105ms (ActiveRecord: 2.2ms)


Started GET "/orders/new" for ::1 at 2017-04-10 17:15:53 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (2.6ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 39ms (Views: 34.9ms | ActiveRecord: 0.2ms)


Started POST "/products/42/add_to_cart" for ::1 at 2017-04-10 17:15:57 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"42"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 42 LIMIT ?[0m  [["cart_id", 8], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 2], ["updated_at", 2017-04-10 09:15:57 UTC], ["id", 5]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 42 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 8], ["LIMIT", 1]]
No template found for ProductsController#add_to_cart, rendering head :no_content
Completed 204 No Content in 107ms (ActiveRecord: 2.1ms)


Started GET "/" for ::1 at 2017-04-10 17:15:59 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.5ms)
  [1m[36mProduct Load (6.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (15.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 48ms (Views: 39.8ms | ActiveRecord: 6.5ms)


Started GET "/orders/new" for ::1 at 2017-04-10 17:16:01 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (2.7ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 41ms (Views: 37.1ms | ActiveRecord: 0.2ms)


Started GET "/" for ::1 at 2017-04-10 17:39:09 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.7ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 45ms (Views: 42.5ms | ActiveRecord: 0.7ms)


Started GET "/admin_orders" for ::1 at 2017-04-10 17:40:09 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin_orders"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [51 times] (10.5ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (82.4ms)
Started GET "/admin" for ::1 at 2017-04-10 17:40:13 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered admin/orders/index.html.erb within layouts/application (1.4ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 41ms (Views: 37.7ms | ActiveRecord: 0.3ms)


Started GET "/admin/orders/1/edit" for ::1 at 2017-04-10 17:40:22 +0800
Processing by Admin::OrdersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/orders/edit.html.erb within layouts/application
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_order_list.html.erb (15.1ms)
  Rendered admin/orders/edit.html.erb within layouts/application (19.7ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 53ms (Views: 48.5ms | ActiveRecord: 1.0ms)


Started GET "/admin/orders/1/edit" for ::1 at 2017-04-10 17:40:28 +0800
Processing by Admin::OrdersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/orders/edit.html.erb within layouts/application
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_order_list.html.erb (4.0ms)
  Rendered admin/orders/edit.html.erb within layouts/application (8.4ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 43ms (Views: 39.3ms | ActiveRecord: 0.4ms)


Started GET "/admin" for ::1 at 2017-04-10 17:40:35 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  Rendered admin/orders/index.html.erb within layouts/application (1.5ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 37ms (Views: 32.6ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-10 19:29:32 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.6ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (46.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 100ms (Views: 90.3ms | ActiveRecord: 2.8ms)


Started GET "/orders/new" for ::1 at 2017-04-10 19:29:35 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (3.0ms)
  Rendered common/_navbar.html.erb (0.3ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 51ms (Views: 32.3ms | ActiveRecord: 0.6ms)


Started POST "/orders" for ::1 at 2017-04-10 19:29:56 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GWDjlTxg7jRqWzDIb7yvoXymSSc8RwZv0CjziSVnGkg870JSXtOCy0TB52aoVXC8zVkzZiYb/7K6gjViMjO6oA==", "order"=>{"name"=>"Ray", "email"=>"jioherry@gmail.com", "phone"=>"1234567890", "address"=>"qwsxdedwefrf", "payment_method"=>"credit"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "name", "phone", "address", "email", "created_at", "updated_at", "amount", "payment_method", "payment_status") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["name", "Ray"], ["phone", "1234567890"], ["address", "qwsxdedwefrf"], ["email", "jioherry@gmail.com"], ["created_at", 2017-04-10 11:29:56 UTC], ["updated_at", 2017-04-10 11:29:56 UTC], ["amount", 9760], ["payment_method", 0], ["payment_status", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "price", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["order_id", 2], ["product_id", 42], ["price", 4880], ["quantity", 2], ["created_at", 2017-04-10 11:29:56 UTC], ["updated_at", 2017-04-10 11:29:56 UTC]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/orders/2
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 2]]
  Rendered shared/_order_list.html.erb (3.1ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (5.0ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.3ms)
UserMailer#notify_order_create: processed outbound mail in 226.7ms
Completed 500 Internal Server Error in 404ms (ActiveRecord: 2.5ms)


  
Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 25):
  
app/controllers/orders_controller.rb:22:in `create'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (58.7ms)
Started POST "/orders" for ::1 at 2017-04-10 19:31:18 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2Fu7qB3bLKCTJiG5r32EQZ9ZeWHvECFVbjPcZ7M2rH47INLHfIInDYEnIVaSiGgFZQzfuT178ra7L4d0w5CPbw==", "order"=>{"name"=>"Ray", "email"=>"jioherry@gmail.com", "phone"=>"1234567890", "address"=>"qwsxdedwefrf", "payment_method"=>"atm"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-10 11:31:18 UTC], ["updated_at", 2017-04-10 11:31:18 UTC]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 9]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "name", "phone", "address", "email", "created_at", "updated_at", "amount", "payment_method", "payment_status") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["name", "Ray"], ["phone", "1234567890"], ["address", "qwsxdedwefrf"], ["email", "jioherry@gmail.com"], ["created_at", 2017-04-10 11:31:18 UTC], ["updated_at", 2017-04-10 11:31:18 UTC], ["amount", 0], ["payment_method", 1], ["payment_status", 0]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 9]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/orders/3
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
  Rendered shared/_order_list.html.erb (2.1ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (4.5ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.3ms)
UserMailer#notify_order_create: processed outbound mail in 21.4ms
Completed 500 Internal Server Error in 36ms (ActiveRecord: 3.7ms)


  
Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 25):
  
app/controllers/orders_controller.rb:22:in `create'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (58.2ms)
Started PUT "/__web_console/repl_sessions/f8489283fb1609e78c4f22c9f70bcbe5" for ::1 at 2017-04-10 19:35:42 +0800
Started PUT "/__web_console/repl_sessions/f8489283fb1609e78c4f22c9f70bcbe5" for ::1 at 2017-04-10 19:35:42 +0800
Started PUT "/__web_console/repl_sessions/f8489283fb1609e78c4f22c9f70bcbe5" for ::1 at 2017-04-10 19:36:03 +0800
Started PUT "/__web_console/repl_sessions/f8489283fb1609e78c4f22c9f70bcbe5" for ::1 at 2017-04-10 19:36:03 +0800
Started PUT "/__web_console/repl_sessions/f8489283fb1609e78c4f22c9f70bcbe5" for ::1 at 2017-04-10 19:36:06 +0800
UserMailer#notify_order_create: processed outbound mail in 0.4ms
Started PUT "/__web_console/repl_sessions/f8489283fb1609e78c4f22c9f70bcbe5" for ::1 at 2017-04-10 19:36:17 +0800
Started PUT "/__web_console/repl_sessions/f8489283fb1609e78c4f22c9f70bcbe5" for ::1 at 2017-04-10 19:36:19 +0800
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
  Rendered shared/_order_list.html.erb (1.7ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (3.3ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.3ms)
UserMailer#notify_order_create: processed outbound mail in 22.1ms
Started PUT "/__web_console/repl_sessions/f8489283fb1609e78c4f22c9f70bcbe5" for ::1 at 2017-04-10 19:36:37 +0800
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
  Rendered shared/_order_list.html.erb (1.9ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (3.4ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.3ms)
UserMailer#notify_order_create: processed outbound mail in 21.8ms
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
  Rendered shared/_order_list.html.erb (1.2ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (2.4ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.0ms)
UserMailer#notify_order_create: processed outbound mail in 19.1ms
Started PUT "/__web_console/repl_sessions/f8489283fb1609e78c4f22c9f70bcbe5" for ::1 at 2017-04-10 19:36:37 +0800
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
  Rendered shared/_order_list.html.erb (1.6ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (3.1ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.4ms)
UserMailer#notify_order_create: processed outbound mail in 20.8ms
Sent mail to jioherry@gmail.com (4.0ms)
Date: Mon, 10 Apr 2017 19:36:37 +0800
From: My Cart <info@alphacamp.co>
To: jioherry@gmail.com
Message-ID: <58eb6e45d91ec_2d443fcf34e967489f6@Rayde-MacBook-Pro.local.mail>
Subject: =?UTF-8?Q?ALPHA_Camp_|_=E8=A8=82=E5=96=AE=E6=88=90=E7=AB=8B:_3?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_58eb6e45d89e1_2d443fcf34e967488c7";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_58eb6e45d89e1_2d443fcf34e967488c7
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi, Ray

Your order is created. Thank you!

----==_mimepart_58eb6e45d89e1_2d443fcf34e967488c7
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: base64

PCFET0NUWVBFIGh0bWw+CjxodG1sPgogIDxoZWFkPgogICAgPG1ldGEgaHR0
cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNo
YXJzZXQ9dXRmLTgiIC8+CiAgICA8c3R5bGU+CiAgICAgIC8qIEVtYWlsIHN0
eWxlcyBuZWVkIHRvIGJlIGlubGluZSAqLwogICAgPC9zdHlsZT4KICA8L2hl
YWQ+CgogIDxib2R5PgogICAgPGgzPkhpLCBSYXkgPC9oMz4KCjxwPllvdXIg
b3JkZXIgaXMgY3JlYXRlZC4gVGhhbmsgeW91ITwvcD4KCjxoMT5PcmRlciAj
MzwvaDE+CgroqILllq7mmYLplpPvvJoyMDE3LTA0LTEwIDExOjMxPGJyPgrm
lLbku7bkurrvvJpSYXk8YnI+CuS/oeeuse+8mmppb2hlcnJ5QGdtYWlsLmNv
bTxicj4K6Zu76Kmx77yaMTIzNDU2Nzg5MDxicj4K5Zyw5Z2A77yacXdzeGRl
ZHdlZnJmPGJyPgoKPGJyPgo8dGFibGU+CiAgPHRyPgogICAgPHRoPuioguiz
vOWVhuWTgTwvdGg+CiAgICA8dGg+5pW46YePPC90aD4KICAgIDx0aD7llq7l
g7k8L3RoPgogICAgPHRoPuWwj+ioiDwvdGg+CiAgPC90cj4KPC90YWJsZT4K
PGJyPgo8c3Ryb25nPue4veioiDogJCAwPC9zdHJvbmc+Cjxicj4KPHA+5LuY
5qy+5pa55byP77yaYXRtPC9wPgoKCiAgPC9ib2R5Pgo8L2h0bWw+Cg==

----==_mimepart_58eb6e45d89e1_2d443fcf34e967488c7--

Started PUT "/__web_console/repl_sessions/f8489283fb1609e78c4f22c9f70bcbe5" for ::1 at 2017-04-10 19:36:39 +0800
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
  Rendered shared/_order_list.html.erb (1.5ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (3.1ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.2ms)
UserMailer#notify_order_create: processed outbound mail in 20.3ms
Started POST "/orders" for ::1 at 2017-04-10 19:37:44 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2Fu7qB3bLKCTJiG5r32EQZ9ZeWHvECFVbjPcZ7M2rH47INLHfIInDYEnIVaSiGgFZQzfuT178ra7L4d0w5CPbw==", "order"=>{"name"=>"Ray", "email"=>"jioherry@gmail.com", "phone"=>"1234567890", "address"=>"qwsxdedwefrf", "payment_method"=>"atm"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-10 11:37:44 UTC], ["updated_at", 2017-04-10 11:37:44 UTC]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 10]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "name", "phone", "address", "email", "created_at", "updated_at", "amount", "payment_method", "payment_status") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["name", "Ray"], ["phone", "1234567890"], ["address", "qwsxdedwefrf"], ["email", "jioherry@gmail.com"], ["created_at", 2017-04-10 11:37:44 UTC], ["updated_at", 2017-04-10 11:37:44 UTC], ["amount", 0], ["payment_method", 1], ["payment_status", 0]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/orders/4
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 4]]
  Rendered shared/_order_list.html.erb (8.3ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (10.1ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.4ms)
UserMailer#notify_order_create: processed outbound mail in 31.3ms
Sent mail to jioherry@gmail.com (3.9ms)
Date: Mon, 10 Apr 2017 19:37:44 +0800
From: My Cart <info@alphacamp.co>
To: jioherry@gmail.com
Message-ID: <58eb6e888d3a8_2d443fcf34e92da01314@Rayde-MacBook-Pro.local.mail>
Subject: =?UTF-8?Q?ALPHA_Camp_|_=E8=A8=82=E5=96=AE=E6=88=90=E7=AB=8B:_4?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_58eb6e888cb72_2d443fcf34e92da012b4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_58eb6e888cb72_2d443fcf34e92da012b4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi, Ray

Your order is created. Thank you!

----==_mimepart_58eb6e888cb72_2d443fcf34e92da012b4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: base64

PCFET0NUWVBFIGh0bWw+CjxodG1sPgogIDxoZWFkPgogICAgPG1ldGEgaHR0
cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNo
YXJzZXQ9dXRmLTgiIC8+CiAgICA8c3R5bGU+CiAgICAgIC8qIEVtYWlsIHN0
eWxlcyBuZWVkIHRvIGJlIGlubGluZSAqLwogICAgPC9zdHlsZT4KICA8L2hl
YWQ+CgogIDxib2R5PgogICAgPGgzPkhpLCBSYXkgPC9oMz4KCjxwPllvdXIg
b3JkZXIgaXMgY3JlYXRlZC4gVGhhbmsgeW91ITwvcD4KCjxoMT5PcmRlciAj
NDwvaDE+CgroqILllq7mmYLplpPvvJoyMDE3LTA0LTEwIDExOjM3PGJyPgrm
lLbku7bkurrvvJpSYXk8YnI+CuS/oeeuse+8mmppb2hlcnJ5QGdtYWlsLmNv
bTxicj4K6Zu76Kmx77yaMTIzNDU2Nzg5MDxicj4K5Zyw5Z2A77yacXdzeGRl
ZHdlZnJmPGJyPgoKPGJyPgo8dGFibGU+CiAgPHRyPgogICAgPHRoPuioguiz
vOWVhuWTgTwvdGg+CiAgICA8dGg+5pW46YePPC90aD4KICAgIDx0aD7llq7l
g7k8L3RoPgogICAgPHRoPuWwj+ioiDwvdGg+CiAgPC90cj4KPC90YWJsZT4K
PGJyPgo8c3Ryb25nPue4veioiDogJCAwPC9zdHJvbmc+Cjxicj4KPHA+5LuY
5qy+5pa55byP77yaYXRtPC9wPgoKCiAgPC9ib2R5Pgo8L2h0bWw+Cg==

----==_mimepart_58eb6e888cb72_2d443fcf34e92da012b4--

Completed 302 Found in 93ms (ActiveRecord: 5.2ms)


Started GET "/orders/4" for ::1 at 2017-04-10 19:37:44 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 4]]
  Rendered shared/_order_list.html.erb (2.4ms)
  Rendered orders/show.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 43ms (Views: 39.7ms | ActiveRecord: 0.5ms)


Started POST "/orders" for ::1 at 2017-04-10 19:39:40 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2Fu7qB3bLKCTJiG5r32EQZ9ZeWHvECFVbjPcZ7M2rH47INLHfIInDYEnIVaSiGgFZQzfuT178ra7L4d0w5CPbw==", "order"=>{"name"=>"Ray", "email"=>"jioherry@gmail.com", "phone"=>"1234567890", "address"=>"qwsxdedwefrf", "payment_method"=>"atm"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-10 11:39:40 UTC], ["updated_at", 2017-04-10 11:39:40 UTC]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 11]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "name", "phone", "address", "email", "created_at", "updated_at", "amount", "payment_method", "payment_status") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["name", "Ray"], ["phone", "1234567890"], ["address", "qwsxdedwefrf"], ["email", "jioherry@gmail.com"], ["created_at", 2017-04-10 11:39:40 UTC], ["updated_at", 2017-04-10 11:39:40 UTC], ["amount", 0], ["payment_method", 1], ["payment_status", 0]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/orders/5
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 5]]
  Rendered shared/_order_list.html.erb (9.7ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (11.5ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.4ms)
UserMailer#notify_order_create: processed outbound mail in 30.1ms
Completed 500 Internal Server Error in 85ms (ActiveRecord: 5.4ms)


  
Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 25):
  
app/controllers/orders_controller.rb:22:in `create'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.6ms)
Started PUT "/__web_console/repl_sessions/51852fb3a09defe3f2da98bfe0411c0c" for ::1 at 2017-04-10 19:40:32 +0800
Started PUT "/__web_console/repl_sessions/51852fb3a09defe3f2da98bfe0411c0c" for ::1 at 2017-04-10 19:40:33 +0800
Started PUT "/__web_console/repl_sessions/51852fb3a09defe3f2da98bfe0411c0c" for ::1 at 2017-04-10 19:40:33 +0800
Started PUT "/__web_console/repl_sessions/51852fb3a09defe3f2da98bfe0411c0c" for ::1 at 2017-04-10 19:40:40 +0800
Started PUT "/__web_console/repl_sessions/51852fb3a09defe3f2da98bfe0411c0c" for ::1 at 2017-04-10 19:40:41 +0800
Started GET "/" for ::1 at 2017-04-10 19:43:11 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-10 11:43:11 UTC], ["updated_at", 2017-04-10 11:43:11 UTC]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 12]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (23.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 82ms (Views: 69.4ms | ActiveRecord: 2.2ms)


Started POST "/orders" for ::1 at 2017-04-10 19:44:23 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2Fu7qB3bLKCTJiG5r32EQZ9ZeWHvECFVbjPcZ7M2rH47INLHfIInDYEnIVaSiGgFZQzfuT178ra7L4d0w5CPbw==", "order"=>{"name"=>"Ray", "email"=>"jioherry@gmail.com", "phone"=>"1234567890", "address"=>"qwsxdedwefrf", "payment_method"=>"atm"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 12]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "name", "phone", "address", "email", "created_at", "updated_at", "amount", "payment_method", "payment_status") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["name", "Ray"], ["phone", "1234567890"], ["address", "qwsxdedwefrf"], ["email", "jioherry@gmail.com"], ["created_at", 2017-04-10 11:44:24 UTC], ["updated_at", 2017-04-10 11:44:24 UTC], ["amount", 0], ["payment_method", 1], ["payment_status", 0]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/orders/6
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 6]]
  Rendered shared/_order_list.html.erb (8.9ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (12.0ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.4ms)
UserMailer#notify_order_create: processed outbound mail in 207.5ms
Completed 500 Internal Server Error in 1405ms (ActiveRecord: 4.8ms)


  
Net::SMTPAuthenticationError (534-5.7.14 <https://accounts.google.com/signin/continue?sarp=1&scc=1&plt=AKgnsbtZ
):
  
app/controllers/orders_controller.rb:22:in `create'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (62.6ms)
Started PUT "/__web_console/repl_sessions/9dedac8016e8fc287b87d425d05f4459" for ::1 at 2017-04-10 19:45:14 +0800
Started PUT "/__web_console/repl_sessions/9dedac8016e8fc287b87d425d05f4459" for ::1 at 2017-04-10 19:45:14 +0800
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  Rendered shared/_order_list.html.erb (0.5ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (2.1ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.3ms)
UserMailer#notify_order_create: processed outbound mail in 19.7ms
Started PUT "/__web_console/repl_sessions/9dedac8016e8fc287b87d425d05f4459" for ::1 at 2017-04-10 19:45:16 +0800
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  Rendered shared/_order_list.html.erb (0.6ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (2.2ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.6ms)
UserMailer#notify_order_create: processed outbound mail in 20.2ms
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  Rendered shared/_order_list.html.erb (0.1ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (1.6ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.0ms)
UserMailer#notify_order_create: processed outbound mail in 16.9ms
Started PUT "/__web_console/repl_sessions/9dedac8016e8fc287b87d425d05f4459" for ::1 at 2017-04-10 19:45:22 +0800
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  Rendered shared/_order_list.html.erb (0.5ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (2.1ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.3ms)
UserMailer#notify_order_create: processed outbound mail in 19.7ms
Sent mail to jioherry@gmail.com (956.4ms)
Date: Mon, 10 Apr 2017 19:45:22 +0800
From: My Cart <info@alphacamp.co>
To: jioherry@gmail.com
Message-ID: <58eb7052ab800_30ff3fe547c8d4f063636@Rayde-MacBook-Pro.local.mail>
Subject: =?UTF-8?Q?ALPHA_Camp_|_=E8=A8=82=E5=96=AE=E6=88=90=E7=AB=8B:_6?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_58eb7052ab050_30ff3fe547c8d4f06353e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_58eb7052ab050_30ff3fe547c8d4f06353e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi, Ray

Your order is created. Thank you!

----==_mimepart_58eb7052ab050_30ff3fe547c8d4f06353e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: base64

PCFET0NUWVBFIGh0bWw+CjxodG1sPgogIDxoZWFkPgogICAgPG1ldGEgaHR0
cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNo
YXJzZXQ9dXRmLTgiIC8+CiAgICA8c3R5bGU+CiAgICAgIC8qIEVtYWlsIHN0
eWxlcyBuZWVkIHRvIGJlIGlubGluZSAqLwogICAgPC9zdHlsZT4KICA8L2hl
YWQ+CgogIDxib2R5PgogICAgPGgzPkhpLCBSYXkgPC9oMz4KCjxwPllvdXIg
b3JkZXIgaXMgY3JlYXRlZC4gVGhhbmsgeW91ITwvcD4KCjxoMT5PcmRlciAj
NjwvaDE+CgroqILllq7mmYLplpPvvJoyMDE3LTA0LTEwIDExOjQ0PGJyPgrm
lLbku7bkurrvvJpSYXk8YnI+CuS/oeeuse+8mmppb2hlcnJ5QGdtYWlsLmNv
bTxicj4K6Zu76Kmx77yaMTIzNDU2Nzg5MDxicj4K5Zyw5Z2A77yacXdzeGRl
ZHdlZnJmPGJyPgoKPGJyPgo8dGFibGU+CiAgPHRyPgogICAgPHRoPuioguiz
vOWVhuWTgTwvdGg+CiAgICA8dGg+5pW46YePPC90aD4KICAgIDx0aD7llq7l
g7k8L3RoPgogICAgPHRoPuWwj+ioiDwvdGg+CiAgPC90cj4KPC90YWJsZT4K
PGJyPgo8c3Ryb25nPue4veioiDogJCAwPC9zdHJvbmc+Cjxicj4KPHA+5LuY
5qy+5pa55byP77yaYXRtPC9wPgoKCiAgPC9ib2R5Pgo8L2h0bWw+Cg==

----==_mimepart_58eb7052ab050_30ff3fe547c8d4f06353e--

Started POST "/orders" for ::1 at 2017-04-10 19:46:40 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2Fu7qB3bLKCTJiG5r32EQZ9ZeWHvECFVbjPcZ7M2rH47INLHfIInDYEnIVaSiGgFZQzfuT178ra7L4d0w5CPbw==", "order"=>{"name"=>"Ray", "email"=>"jioherry@gmail.com", "phone"=>"1234567890", "address"=>"qwsxdedwefrf", "payment_method"=>"atm"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-10 11:46:40 UTC], ["updated_at", 2017-04-10 11:46:40 UTC]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 13]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "name", "phone", "address", "email", "created_at", "updated_at", "amount", "payment_method", "payment_status") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["name", "Ray"], ["phone", "1234567890"], ["address", "qwsxdedwefrf"], ["email", "jioherry@gmail.com"], ["created_at", 2017-04-10 11:46:40 UTC], ["updated_at", 2017-04-10 11:46:40 UTC], ["amount", 0], ["payment_method", 1], ["payment_status", 0]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 13]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/orders/7
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 7]]
  Rendered shared/_order_list.html.erb (1.7ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (3.3ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.2ms)
UserMailer#notify_order_create: processed outbound mail in 21.3ms
Completed 500 Internal Server Error in 2208ms (ActiveRecord: 3.3ms)


  
Net::SMTPAuthenticationError (534-5.7.14 <https://accounts.google.com/signin/continue?sarp=1&scc=1&plt=AKgnsbuJ
):
  
app/controllers/orders_controller.rb:22:in `create'
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.5ms)
Started POST "/orders" for ::1 at 2017-04-10 19:48:48 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2Fu7qB3bLKCTJiG5r32EQZ9ZeWHvECFVbjPcZ7M2rH47INLHfIInDYEnIVaSiGgFZQzfuT178ra7L4d0w5CPbw==", "order"=>{"name"=>"Ray", "email"=>"jioherry@gmail.com", "phone"=>"1234567890", "address"=>"qwsxdedwefrf", "payment_method"=>"atm"}, "commit"=>"Create Order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-10 11:48:48 UTC], ["updated_at", 2017-04-10 11:48:48 UTC]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 14]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "name", "phone", "address", "email", "created_at", "updated_at", "amount", "payment_method", "payment_status") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["name", "Ray"], ["phone", "1234567890"], ["address", "qwsxdedwefrf"], ["email", "jioherry@gmail.com"], ["created_at", 2017-04-10 11:48:48 UTC], ["updated_at", 2017-04-10 11:48:48 UTC], ["amount", 0], ["payment_method", 1], ["payment_status", 0]]
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/orders/8
  Rendering user_mailer/notify_order_create.html.erb within layouts/mailer
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 8]]
  Rendered shared/_order_list.html.erb (10.6ms)
  Rendered user_mailer/notify_order_create.html.erb within layouts/mailer (13.5ms)
  Rendering user_mailer/notify_order_create.text.erb within layouts/mailer
  Rendered user_mailer/notify_order_create.text.erb within layouts/mailer (0.3ms)
UserMailer#notify_order_create: processed outbound mail in 226.7ms
Completed 302 Found in 3560ms (ActiveRecord: 6.7ms)


Started GET "/orders/8" for ::1 at 2017-04-10 19:48:52 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = ?[0m  [["order_id", 8]]
  Rendered shared/_order_list.html.erb (1.9ms)
  Rendered orders/show.html.erb within layouts/application (3.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 239ms (Views: 234.5ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-04-10 19:50:02 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-10 11:50:02 UTC], ["updated_at", 2017-04-10 11:50:02 UTC]]
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 15]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (12.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 55ms (Views: 44.7ms | ActiveRecord: 1.7ms)


Started POST "/products/41/add_to_cart" for ::1 at 2017-04-10 19:50:30 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"41"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 LIMIT ?[0m  [["cart_id", 15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["cart_id", 15], ["product_id", 41], ["created_at", 2017-04-10 11:50:30 UTC], ["updated_at", 2017-04-10 11:50:30 UTC], ["quantity", 1]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 15], ["LIMIT", 1]]
No template found for ProductsController#add_to_cart, rendering head :no_content
Completed 204 No Content in 102ms (ActiveRecord: 2.3ms)


Started GET "/" for ::1 at 2017-04-10 19:50:32 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 15]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.5ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (11.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 45ms (Views: 42.5ms | ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2017-04-10 19:51:17 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 15]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.5ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (37.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 90ms (Views: 78.2ms | ActiveRecord: 2.9ms)


Started POST "/products/41/add_to_cart" for ::1 at 2017-04-10 19:51:21 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"41"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 LIMIT ?[0m  [["cart_id", 15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 2], ["updated_at", 2017-04-10 11:51:21 UTC], ["id", 6]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 15], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms)


Started GET "/" for ::1 at 2017-04-10 19:51:21 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 15]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.8ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (19.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 65ms (Views: 61.7ms | ActiveRecord: 0.7ms)


Started POST "/products/41/add_to_cart" for ::1 at 2017-04-10 19:51:25 +0800
Processing by ProductsController#add_to_cart as JS
  Parameters: {"id"=>"41"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 LIMIT ?[0m  [["cart_id", 15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 3], ["updated_at", 2017-04-10 11:51:25 UTC], ["id", 6]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = 41 ORDER BY "cart_items"."id" ASC LIMIT ?[0m  [["cart_id", 15], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 200 OK in 11ms (ActiveRecord: 2.7ms)


Started GET "/" for ::1 at 2017-04-10 19:51:25 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 15]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  Rendered shared/_item.html.erb (0.6ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (11.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 61ms (Views: 58.0ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for ::1 at 2017-04-10 19:51:52 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tAGBJ3CCd+dKRwRtmZe7uOS85UWsj3GK+xNPHYDrQo1XeuhIEdt8SlhGBIKkYlf8HulDnX7komkuDxQO8E1hnA=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 385ms (ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2017-04-10 19:51:53 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-10 11:51:53 UTC], ["updated_at", 2017-04-10 11:51:53 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 16]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (8.3ms)
  Rendered common/_navbar.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 45ms (Views: 42.1ms | ActiveRecord: 1.3ms)


